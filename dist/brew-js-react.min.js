!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("brew-js"),require("react"),require("react-dom"),require("zeta-dom"),require("zeta-dom-react"),require("waterpipe")):"function"==typeof define&&define.amd?define("brew-js-react",["brew-js","react","react-dom","zeta-dom","zeta-dom-react","waterpipe"],t):"object"==typeof exports?exports["brew-js-react"]=t(require("brew-js"),require("react"),require("react-dom"),require("zeta-dom"),require("zeta-dom-react"),require("waterpipe")):e["brew-js-react"]=t(e.brew,e.React,e.ReactDOM,e.zeta,e["zeta-dom-react"],e.waterpipe)}(self,(function(e,t,n,i,r,o){return(()=>{var s={28:e=>{"use strict";e.exports=o},103:e=>{"use strict";e.exports=r},80:t=>{"use strict";t.exports=e},359:e=>{"use strict";e.exports=t},318:e=>{"use strict";e.exports=n},654:e=>{"use strict";e.exports=i},43:(e,t,n)=>{var i=window.waterpipe||n(28);e.exports=i}},a={};function u(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e](n,n.exports,u),n.exports}u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";u.d(c,{default:()=>Je});var e={};u.r(e),u.d(e,{AnimateMixin:()=>le,AnimateSequenceItemMixin:()=>me,AnimateSequenceMixin:()=>he,ClassNameMixin:()=>ue,Dialog:()=>G,ErrorHandlerMixin:()=>we,FlyoutMixin:()=>Ce,FocusStateMixin:()=>Se,LoadingStateMixin:()=>Ae,Mixin:()=>re,ScrollableMixin:()=>Me,StatefulMixin:()=>se,createDialog:()=>W,default:()=>$e,isViewMatched:()=>_e,linkTo:()=>Ge,makeTranslation:()=>ne,navigateTo:()=>Be,redirectTo:()=>Ze,registerView:()=>He,renderView:()=>We,useAnimateMixin:()=>Re,useAnimateSequenceMixin:()=>Ie,useAppReady:()=>$,useErrorHandlerMixin:()=>je,useFlyoutMixin:()=>qe,useFocusStateMixin:()=>Fe,useLanguage:()=>te,useLoadingStateMixin:()=>Ve,useMixinRef:()=>ke,useRouteParam:()=>J,useScrollableMixin:()=>Te});var t=u(80);const n=t;var i=t.install;t.addDetect;const r=n;var o=u(359),s=u(318),a=u(654),l=a.util,f=l.noop,m=l.either,d=l.is,p=(l.isUndefinedOrNull,l.isArray,l.isFunction),h=(l.isThenable,l.isPlainObject,l.isArrayLike,l.makeArray),g=l.extend,v=l.each,y=(l.map,l.grep,l.splice,l.any),w=l.single,b=l.kv,x=l.pick,C=l.exclude,E=(l.mapGet,l.mapRemove,l.arrRemove,l.setAdd,l.equal),S=l.combineFn,N=(l.executeOnce,l.createPrivateStore,l.setTimeoutOnce,l.setImmediate),A=(l.setImmediateOnce,l.throwNotFunction,l.keys),O=l.values,M=(l.hasOwnProperty,l.getOwnPropertyDescriptors,l.define),P=l.definePrototype,R=(l.defineOwnProperty,l.defineGetterProperty,l.defineHiddenProperty,l.defineAliasProperty),I=(l.defineObservableProperty,l.watch,l.watchOnce,l.watchable),j=l.inherit,q=(l.deepFreeze,l.iequal,l.randomId),F=(l.repeat,l.camel,l.hyphenate,l.ucfirst,l.lcfirst,l.trim,l.matchWord,l.htmlDecode,l.resolve,l.reject,l.always),V=(l.resolveAll,l.catchAsync,l.setPromiseTimeout,a.util),T=(V.domReady,V.tagName,V.is,V.isVisible,V.matchSelector,V.comparePosition,V.connected,V.containsOrEquals),k=(V.acceptNode,V.combineNodeFilters,V.iterateNode,V.iterateNodeToArray,V.getCommonAncestor,V.parentsAndSelf,V.selectIncludeSelf,V.selectClosestRelative,V.createNodeIterator,V.createTreeWalker,V.bind,V.bindUntil,V.dispatchDOMMouseEvent,V.removeNode),z=(V.getClass,V.setClass);V.getScrollOffset,V.getScrollParent,V.getContentRect,V.scrollBy,V.scrollIntoView,V.createRange,V.rangeIntersects,V.rangeEquals,V.rangeCovers,V.compareRangePosition,V.makeSelection,V.getRect,V.getRects,V.toPlainRect,V.rectEquals,V.rectCovers,V.rectIntersects,V.pointInRect,V.mergeRect,V.elementFromPoint;const D=a.dom;var L=a.dom;L.textInputAllowed,L.beginDrag,L.beginPinchZoom,L.getShortcut,L.setShortcut,L.focusable,L.focused,L.setModal,L.retainFocus,L.releaseFocus,L.focus;const U=D;t.addAsyncAction;var _=t.closeFlyout,H=t.openFlyout;function W(e){var t,n=document.createElement("div"),i=!1;function r(t){i||(i=!0,_(n,t).then((function(){i=!1,k(n),(e.onClose||f)(n),e.onRender&&s.unmountComponentAtNode(n)})))}return{root:n,close:r,open:function(){return t||(n.className=e.className||"",document.body.appendChild(n),U.retainFocus(U.activeElement,n),e.modal&&(n.setAttribute("is-modal",""),U.setModal(n)),e.onRender&&s.render(o.createElement(e.onRender,g({closeDialog:r},e)),n),t=H(n),F(t,(function(){t=null})),t.then(e.onCommit),(e.onOpen||f)(n),t)}}}function G(e){var t=(0,o.useState)(e)[0],n=(0,o.useState)((function(){return W(t)}))[0];return g(t,e),(0,o.useEffect)((function(){var e=T(U.root,n.root);m(e,t.isOpen)&&(e?n.close():n.open())}),[t.isOpen]),(0,o.useEffect)((function(){return n.close}),[n]),s.createPortal(e.children,n.root)}const B=t.defaults;var Z;function $(){var e=(0,o.useState)(!1),t=e[0],n=e[1];return(0,o.useEffect)((function(){Z.ready.then((function(){n(!0)}))}),[]),t}function J(e,t){var n=(0,o.useState)(Z.route[e]),i=n[0],r=n[1];return(0,o.useEffect)((function(){var t=Z.route[e];return r(t),Z.route.watch(e,r)}),[e,t]),i||void 0===t||Z.navigate(Z.route.getPath(g({},Z.route,b(e,t))),!0),i||""}i("react",(function(e){Z=e})),B.react=!0;var K=u(103),Q=u(43),X=Object.create(null),Y="function"==typeof Symbol&&Symbol.toPrimitive;function ee(e){this.toString=e}function te(){return(0,K.useObservableProperty)(Z,"language")}function ne(e,t){var n=new RegExp("^("+Object.keys(e[t]).join("|")+")\\."),i={};function r(n,i,r){var o=((e[Z.language]||X)[n]||X)[i]||((e[t]||X)[n]||X)[i]||"";return o&&void 0!==r?Q(o,r):o}function o(e){return g(e,{html:function(t,n){return{__html:e(t,n)}},lazy:function(e,t){return new ee(this.bind(0,e,t))}})}function s(e,t){var i=n.test(e)?RegExp.$1:"";return r(i,i?e.slice(RegExp.lastMatch.length):e,t)||e}return{translate:o(s),useTranslation:function(){var e=h(arguments),t=te(),n=s;if(e[0]){var a=e.join(" ");n=i[a]||(i[a]=o((function(t,n){return w(e,(function(e){return r(e,t,n)}))||t})))}return{language:t,t:n}}}}function ie(e){re.call(this),this.attributes=e||{}}function re(){}function oe(e){this.mixin=e}function se(){re.call(this),this.states={},this.prefix="",this.counter=0}Y&&(ee.prototype[Y]=function(){return this.toString()}),P(ie,re,{getCustomAttributes:function(){return g({},this.attributes)}}),P(re,{next:function(){},getRef:function(){return f},getClassNames:function(){return[]},getCustomAttributes:function(){return{}}}),I(re.prototype),M(re,{get scrollableTarget(){return new ie({"scrollable-target":""})},use:function(){var e=h(arguments),t=e[0],n={},i=e.filter((function(e){return e instanceof re})),r=i.map((function(e){return e.getRef()}));return!t||t instanceof re?t||e.shift():("function"!=typeof t?r.push((function(e){t.current=e})):r.push(t),e.shift()),v(i,(function(e,t){g(n,t.getCustomAttributes())})),g(n,{ref:S(r),className:K.classNames.apply(null,e)}),v(i,(function(e,t){t.next()})),n}}),P(oe,{getMixin:function(){return this.mixin}}),P(se,re,{get ref(){var e=this.state;return this.next(),e.ref||(e.ref=new oe(this.clone()))},get state(){var e=this,t=e.prefix+e.counter;return e.states[t]||(e.states[t]=e.initState())},reset:function(){return this.counter=0,this},next:function(){return this.counter++,this},getRef:function(){var e=this,t=e.state;return function(n){n&&n!==t.element&&(t.element=n,e.initElement(n,t))}},elements:function(){return O(this.states).map((function(e){return e.element})).filter((function(e){return e}))},initState:function(){return{element:null}},initElement:function(e,t){},clone:function(){return j(Object.getPrototypeOf(this),{states:this.states,prefix:q()+".",counter:0})}});var ae=se.prototype;function ue(e){se.call(this),this.classNames=e||[]}P(ue,se,{getClassNames:function(){return[this.state.classNames]},initState:function(){return{element:null,classNames:{}}},initElement:function(e,t){var n=this;U.watchAttributes(e,["class"],(function(i){if(i.includes(e)){var r=g({},t.classNames);v(n.classNames,(function(n,i){t.classNames[i]=e.classList.contains(i)})),E(r,t.classNames)||n.onClassNameUpdated(e,r,t.classNames)}}))},clone:function(){return g(ae.clone.call(this),{classNames:this.classNames})},onClassNameUpdated:function(e,t,n){}});var ce=ue.prototype;function le(){ue.call(this,["tweening-in","tweening-out"])}P(le,ue,{next:function(){return this.effects=void 0,this.trigger=void 0,ce.next.call(this)},with:function(e){return this.effects=e.effects,this.trigger=e.trigger,this},withEffects:function(){return this.effects=h(arguments),this},getCustomAttributes:function(){return g({},ce.getCustomAttributes.call(this),{"animate-in":(this.effects||[]).join(" "),"animate-on":this.trigger||"show"})}});var fe=ue.prototype;function me(e){ue.call(this,["tweening-in","tweening-out"]),this.className=e}P(me,ue,{getClassNames:function(){return[this.className].concat(fe.getClassNames.call(this))}});var de=le.prototype,pe=0;function he(){le.call(this),this.className="brew-anim-"+ ++pe,this.item=new me(this.className)}P(he,le,{reset:function(){return this.item.reset(),de.reset.call(this)},getCustomAttributes:function(){return g({},de.getCustomAttributes.call(this),{"animate-sequence":"."+this.className})},clone:function(){return g(de.clone.call(this),{item:this.item.ref.getMixin()})}});var ge=a.EventContainer,ve=se.prototype,ye=new ge;function we(){se.call(this)}P(we,se,{catch:function(e,t){return t||(t=e,e=null),ye.add(this,e?"error":"default",(function(n){if(!e||function(e,t){return p(e)?d(t,e):t&&t.code===e}(e,n.error))return t(n.error)}))},initElement:function(e,t){var n=this;ve.initElement.call(n,e,t),U.on(e,"error",(function(e){var t={error:e.error};return ye.emit("error",n,t)||ye.emit("default",n,t)}))}});var be=ue.prototype,xe=0;function Ce(){ue.call(this,["open","closing","tweening-in","tweening-out"]),this.isFlyoutOpened=!1,this.animating=!1,this.visible=!1,this.toggle=new ue(["target-opened"])}P(Ce,ue,{reset:function(){return this.toggle.reset(),be.reset.call(this)},next:function(){return this.effects=void 0,be.next.call(this)},withEffects:function(){return this.effects=h(arguments),this},getCustomAttributes:function(){return g({},be.getCustomAttributes.call(this),{"is-flyout":""},this.effects&&{"animate-on":"open","animate-in":this.effects.join(" "),"animate-out":""})},onOpen:function(e){return this.onToggleState((function(t){if(t)return e()}))},onToggleState:function(e){return this.watch("isFlyoutOpened",e)},onVisibilityChanged:function(e){return this.watch("visible",e)},initElement:function(e,t){var n=this;be.initElement.call(n,e,t),e.id||(e.id="flyout-"+ ++xe),Z.on(e,{animationstart:function(){n.animating=!0},animationcomplete:function(){n.animating=!1}},!0),setImmediate((function(){v(n.toggle.elements(),(function(t,n){n.setAttribute("toggle","#"+e.id)}))}))},clone:function(){var e=g(be.clone.call(this),{toggle:this.toggle.ref.getMixin()});return R(e,"isFlyoutOpened",this),e},onClassNameUpdated:function(e,t,n){var i,r=this,o=function(e){return t[e]!==n[e]&&n[e]};o("open")?(r.isFlyoutOpened=!0,r.visible=!0):o("closing")||o("tweening-out")?r.isFlyoutOpened=!1:t[i="open"]===n[i]||n[i]||(r.visible=!1)}});var Ee=se.prototype;function Se(){se.call(this)}P(Se,se,{initElement:function(e,t){Ee.initElement.call(this,e,t),U.on(e,{focusin:function(){t.focused=!0,z(e,"focused",!0)},focusout:function(){t.focused=!1,z(e,"focused",!1)}})},getClassNames:function(){return[{focused:!!this.state.focused}]}});var Ne=se.prototype;function Ae(){se.call(this)}P(Ae,se,{initElement:function(e,t){Ne.initElement.call(this,e,t),U.on(e,{asyncStart:function(){t.loading=!0,z(e,"loading",!0)},asyncEnd:function(){t.loading=!1,z(e,"loading",!1)},cancelled:function(){t.loading=!1,z(e,"loading",!1)}})},getClassNames:function(){return[{loading:!!this.state.loading}]}});var Oe=ue.prototype;function Me(){ue.call(this,["scrollable-x","scrollable-x-l","scrollable-x-r","scrollable-y","scrollable-y-d","scrollable-y-u"]),this.target=re.scrollableTarget,this.pageIndex=0}function Pe(e){return function(){return(0,o.useState)((function(){return new e}))[0].reset()}}P(Me,ue,{withOptions:function(e){return this.options=e,this},getCustomAttributes:function(){var e=this.options||{};return g({},Oe.getCustomAttributes.call(this),{scrollable:[e.direction||"both",e.handle||"auto"].join(" ")},e.paged&&{var:"{ pageIndex: 0 }","scroller-snap-page":e.paged,"scroller-page":e.pagedItemSelector,"scroller-state":"pageIndex"})},onPageIndexChanged:function(e){return this.watch("pageIndex",e)},initElement:function(e,t){var n=this;Z.on(e,"statechange",(function(e){"pageIndex"in e.newValues&&g(n,{pageIndex:e.newValues.pageIndex})}),!0)},clone:function(){var e=Oe.clone.call(this);return R(e,"pageIndex",this),e}});var Re=Pe(le),Ie=Pe(he),je=Pe(we),qe=Pe(Ce),Fe=Pe(Se),Ve=Pe(Ae);function Te(e){return Pe(Me)().withOptions(e)}function ke(e){return e.getMixin().reset()}var ze=t.animateIn,De=t.animateOut,Le=(t.addAnimateIn,t.addAnimateOut,new Map);function Ue(){var e=this;o.Component.apply(e,arguments),e.mounted=!1,e.componentWillUnmount=Z.on("navigate",(function(){e.mounted&&e.getViewComponent()&&e.forceUpdate()}))}function _e(e){var t=Le.get(e);return!!t&&E(t,x(Z.route,A(t)))}function He(e,t){var n=function(t){var n=C(t,["rootProps","onComponentLoaded"]),i=(0,K.useAsync)(e)[0];return o.createElement("div",g({},t.rootProps,{ref:function(e){e&&i&&(t.onComponentLoaded||f)(e)},children:i&&o.createElement(i.default,n)}))};return Le.set(n,t),n}function We(){var e,t=h(arguments);return t[0]&&"function"!=typeof t[0]&&(e=t.shift()),o.createElement(Ue,g({},e,{views:t}))}function Ge(e,t){return Z.route.getPath(g({},Z.route,t,Le.get(e)))}function Be(e,t){return Z.navigate(Ge(e,t))}function Ze(e,t){return Z.navigate(Ge(e,t),!0)}P(Ue,o.Component,{componentDidMount:function(){this.mounted=!0},render:function(){var e=this,t=e.getViewComponent();return t&&t!==e.currentViewComponent&&(e.currentViewComponent=t,e.currentView&&e.currentElement&&(e.prevView=e.currentView,e.prevElement=e.currentElement,e.currentElement=void 0,De(e.prevElement,"show").then((function(){e.prevElement=void 0,e.prevView=void 0,e.forceUpdate()}))),e.currentView=o.createElement(t,{key:Z.route.view,rootProps:C(e.props,["views"]),onComponentLoaded:function(t){e.currentElement=t,N((function(){return ze(t,"show")}))}})),o.createElement(o.Fragment,null,e.prevView,e.currentView)},getViewComponent:function(){var e=this.props.views;return y(e,_e)||void Ze(e[0])}});const $e=r,Je=e})(),c=c.default})()}));
//# sourceMappingURL=brew-js-react.min.js.map