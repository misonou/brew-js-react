{"version":3,"file":"brew-js-react.js","mappings":"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","sources":["webpack://brew.react/webpack/universalModuleDefinition","webpack://brew.react/external umd \"waterpipe\"","webpack://brew.react/external umd {\"commonjs\":\"brew-js\",\"commonjs2\":\"brew-js\",\"amd\":\"brew-js\",\"root\":\"brew\"}","webpack://brew.react/external umd {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack://brew.react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://brew.react/external umd {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack://brew.react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://brew.react/external umd {\"commonjs\":\"zeta-dom-react\",\"commonjs2\":\"zeta-dom-react\",\"amd\":\"zeta-dom-react\",\"root\":[\"zeta\",\"react\"]}","webpack://brew.react/./node_modules/@misonou/react-dom-client/fallback.js","webpack://brew.react/webpack/bootstrap","webpack://brew.react/webpack/runtime/define property getters","webpack://brew.react/webpack/runtime/hasOwnProperty shorthand","webpack://brew.react/webpack/runtime/make namespace object","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/util.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/app.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/defaults.js","webpack://brew.react/./src/app.js","webpack://brew.react/../brew-js-react|umd|C:/react.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom-react.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/domUtil.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/dom.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/domLock.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/domAction.js","webpack://brew.react/./src/dialog.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/events.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/util/common.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/util/path.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/anim.js","webpack://brew.react/./src/view.js","webpack://brew.react/./src/hooks.js","webpack://brew.react/./src/i18n.js","webpack://brew.react/./src/mixins/StaticAttributeMixin.js","webpack://brew.react/./src/mixins/Mixin.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/observe.js","webpack://brew.react/./src/mixins/StatefulMixin.js","webpack://brew.react/./src/mixins/ClassNameMixin.js","webpack://brew.react/./src/mixins/AnimateMixin.js","webpack://brew.react/./src/mixins/AnimateSequenceItemMixin.js","webpack://brew.react/./src/mixins/AnimateSequenceMixin.js","webpack://brew.react/./src/mixins/ClassNameToggleMixin.js","webpack://brew.react/./src/mixins/FlyoutToggleMixin.js","webpack://brew.react/./src/mixins/FlyoutMixin.js","webpack://brew.react/./src/mixins/FocusStateMixin.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/directive.js","webpack://brew.react/./src/mixins/LoadingStateMixin.js","webpack://brew.react/./src/mixins/ScrollableMixin.js","webpack://brew.react/./src/mixins/ScrollIntoViewMixin.js","webpack://brew.react/./src/mixins/UnmanagedClassNameMixin.js","webpack://brew.react/./src/mixin.js","webpack://brew.react/./src/index.js","webpack://brew.react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"zeta-dom\"), require(\"brew-js\"), require(\"react\"), require(\"react-dom\"), require(\"zeta-dom-react\"), require(\"waterpipe\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"brew-js-react\", [\"zeta-dom\", \"brew-js\", \"react\", \"react-dom\", \"zeta-dom-react\", \"waterpipe\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"brew-js-react\"] = factory(require(\"zeta-dom\"), require(\"brew-js\"), require(\"react\"), require(\"react-dom\"), require(\"zeta-dom-react\"), require(\"waterpipe\"), require(\"jquery\"));\n\telse\n\t\troot[\"brew\"] = root[\"brew\"] || {}, root[\"brew\"][\"react\"] = factory(root[\"zeta\"], root[\"brew\"], root[\"React\"], root[\"ReactDOM\"], root[\"zeta\"][\"react\"], root[\"waterpipe\"], root[\"jQuery\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__231__, __WEBPACK_EXTERNAL_MODULE__760__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__33__, __WEBPACK_EXTERNAL_MODULE__402__, __WEBPACK_EXTERNAL_MODULE__87__, __WEBPACK_EXTERNAL_MODULE__914__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__87__;","module.exports = __WEBPACK_EXTERNAL_MODULE__760__;","module.exports = __WEBPACK_EXTERNAL_MODULE__914__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","module.exports = __WEBPACK_EXTERNAL_MODULE__231__;","module.exports = __WEBPACK_EXTERNAL_MODULE__402__;","var ReactDOM = require('react-dom');\r\nvar ReactDOMClient;\r\n\r\nif (ReactDOM.createRoot) {\r\n    ReactDOMClient = ReactDOM;\r\n} else {\r\n    ReactDOMClient = {\r\n        createRoot(container, options) {\r\n            return {\r\n                render(children) {\r\n                    ReactDOM.render(children, container);\r\n                },\r\n                unmount() {\r\n                    ReactDOM.unmountComponentAtNode(container);\r\n                }\r\n            };\r\n        },\r\n        hydrateRoot(container, initialChildren, options) {\r\n            ReactDOM.hydrate(initialChildren, container);\r\n            return ReactDOMClient.createRoot(container, options);\r\n        },\r\n    };\r\n}\r\n\r\n/** @type {import(\"react-dom/client\")} */\r\nmodule.exports = ReactDOMClient;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import lib from \"zeta-dom\";\r\nconst { always, any, arrRemove, catchAsync, combineFn, createPrivateStore, define, defineGetterProperty, defineHiddenProperty, defineObservableProperty, defineOwnProperty, definePrototype, delay, each, either, equal, exclude, executeOnce, extend, fill, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, kv, makeArray, map, mapObject, noop, pick, randomId, resolve, setImmediate, setImmediateOnce, single, throwNotFunction, throws, watch, watchable } = lib.util;\r\nexport { always, any, arrRemove, catchAsync, combineFn, createPrivateStore, define, defineGetterProperty, defineHiddenProperty, defineObservableProperty, defineOwnProperty, definePrototype, delay, each, either, equal, exclude, executeOnce, extend, fill, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, kv, makeArray, map, mapObject, noop, pick, randomId, resolve, setImmediate, setImmediateOnce, single, throwNotFunction, throws, watch, watchable };","import lib from \"brew-js\";\r\nexport default lib;\r\nconst { addExtension, install } = lib;\r\nexport { addExtension, install };","import lib from \"brew-js\";\r\nconst defaults = lib.defaults;\r\nexport default defaults;","import { combineFn, throwNotFunction } from \"zeta-dom/util\";\r\nimport { addExtension, install } from \"brew-js/app\";\r\nimport defaults from \"brew-js/defaults\";\r\n\r\n/** @type {Brew.AppInstance<Brew.WithRouter & Brew.WithI18n>} */\r\nexport var app;\r\n\r\nconst appInitCallabcks = [];\r\n\r\nexport function onAppInit(callback) {\r\n    if (app) {\r\n        callback(app);\r\n    } else {\r\n        appInitCallabcks.push(throwNotFunction(callback));\r\n    }\r\n}\r\n\r\nconst extension = addExtension(true, 'react2', ['?router', '?i18n'], function (app_) {\r\n    app = app_;\r\n    combineFn(appInitCallabcks)(app);\r\n});\r\n\r\ninstall('react', extension);\r\ndefaults.react = true;\r\n","import lib from \"@misonou/hoist/react\";\r\nconst { Component, StrictMode, createContext, createElement, useContext, useEffect, useLayoutEffect, useMemo, useRef, useState } = lib;\r\nexport { Component, StrictMode, createContext, createElement, useContext, useEffect, useLayoutEffect, useMemo, useRef, useState };","import lib from \"@misonou/hoist/zeta-dom-react\";\r\nconst { ViewStateProvider, classNames, createAsyncScope, useAsync, useEagerState, useMemoizedFunction, useObservableProperty, useSingleton, useValueTrigger } = lib;\r\nexport { ViewStateProvider, classNames, createAsyncScope, useAsync, useEagerState, useMemoizedFunction, useObservableProperty, useSingleton, useValueTrigger };","import lib from \"zeta-dom\";\r\nconst { containsOrEquals, getClass, removeNode, scrollIntoView, setClass } = lib.util;\r\nexport { containsOrEquals, getClass, removeNode, scrollIntoView, setClass };","import lib from \"zeta-dom\";\r\nconst dom = lib.dom;\r\nexport default dom;\r\nconst { reportError } = dom;\r\nexport { reportError };","import lib from \"zeta-dom\";\r\nconst { lock, preventLeave, runAsync, subscribeAsync } = lib.dom;\r\nexport { lock, preventLeave, runAsync, subscribeAsync };","import lib from \"brew-js\";\r\nconst { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout } = lib;\r\nexport { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout };","import { createElement, StrictMode, useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport ReactDOMClient from \"@misonou/react-dom-client\";\r\nimport { createAsyncScope } from \"zeta-dom-react\";\r\nimport { either, extend, noop, pick, resolve } from \"zeta-dom/util\";\r\nimport { containsOrEquals, removeNode } from \"zeta-dom/domUtil\";\r\nimport dom from \"zeta-dom/dom\";\r\nimport { lock, preventLeave, runAsync, subscribeAsync } from \"zeta-dom/domLock\";\r\nimport { closeFlyout, openFlyout } from \"brew-js/domAction\";\r\n\r\n/**\r\n * @param {Partial<import(\"./dialog\").DialogOptions<any>>} props\r\n */\r\nexport function createDialog(props) {\r\n    var root = document.createElement('div');\r\n    var reactRoot = ReactDOMClient.createRoot(root);\r\n    var scope = createAsyncScope(root);\r\n    var closeDialog = closeFlyout.bind(0, root);\r\n    var promise;\r\n\r\n    dom.on(root, {\r\n        flyoutshow: function () {\r\n            (props.onOpen || noop)(root);\r\n        },\r\n        flyouthide: function () {\r\n            promise = null;\r\n            removeNode(root);\r\n            (props.onClose || noop)(root);\r\n            if (props.onRender) {\r\n                reactRoot.unmount();\r\n            }\r\n        }\r\n    });\r\n    root.setAttribute('loading-class', '');\r\n    subscribeAsync(root, true);\r\n\r\n    return {\r\n        root: root,\r\n        close: closeDialog,\r\n        open: function () {\r\n            if (promise) {\r\n                return promise;\r\n            }\r\n            root.className = props.className || '';\r\n            document.body.appendChild(root);\r\n            if (props.modal) {\r\n                root.setAttribute('is-modal', '');\r\n            }\r\n            if (props.onRender) {\r\n                var commitDialog = props.onCommit ? function (value) {\r\n                    return runAsync(dom.activeElement, props.onCommit.bind(this, value)).then(closeDialog);\r\n                } : closeDialog;\r\n                var dialogProps = extend({}, props, {\r\n                    errorHandler: scope.errorHandler,\r\n                    closeDialog: commitDialog,\r\n                    commitDialog: commitDialog,\r\n                    dismissDialog: closeDialog\r\n                });\r\n                var content = createElement(props.onRender, dialogProps);\r\n                if (props.wrapper) {\r\n                    content = createElement(props.wrapper, dialogProps, content);\r\n                }\r\n                reactRoot.render(createElement(StrictMode, null, createElement(scope.Provider, null, content)));\r\n            }\r\n            promise = resolve().then(function () {\r\n                dom.retainFocus(dom.activeElement, root);\r\n                return openFlyout(root, null, pick(props, ['focus']));\r\n            });\r\n            if (props.preventLeave) {\r\n                preventLeave(root, promise);\r\n            } else if (props.preventNavigation) {\r\n                lock(root, promise);\r\n            }\r\n            return promise;\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * @param {import(\"./dialog\").DialogProps} props\r\n */\r\nexport function Dialog(props) {\r\n    const _props = useState({})[0];\r\n    const dialog = useState(function () {\r\n        return createDialog(_props);\r\n    })[0];\r\n    extend(_props, props);\r\n\r\n    useEffect(function () {\r\n        var opened = containsOrEquals(dom.root, dialog.root);\r\n        if (either(opened, _props.isOpen)) {\r\n            if (!opened) {\r\n                dialog.open();\r\n            } else {\r\n                dialog.close();\r\n            }\r\n        }\r\n    }, [_props.isOpen])\r\n    useEffect(function () {\r\n        return dialog.close;\r\n    }, [dialog]);\r\n    return ReactDOM.createPortal(props.children, dialog.root);\r\n}\r\n","import lib from \"zeta-dom\";\r\nconst { EventContainer } = lib;\r\nexport { EventContainer as ZetaEventContainer };","import lib from \"brew-js\";\r\nconst { getQueryParam, setQueryParam, toQueryString } = lib;\r\nexport { getQueryParam, setQueryParam, toQueryString };","import lib from \"brew-js\";\r\nconst { parsePath, removeQueryAndHash } = lib;\r\nexport { parsePath, removeQueryAndHash };","import lib from \"brew-js\";\r\nconst { animateIn, animateOut } = lib;\r\nexport { animateIn, animateOut };","import { Component, createContext, createElement, useContext, useLayoutEffect } from \"react\";\r\nimport { createAsyncScope, useAsync } from \"zeta-dom-react\";\r\nimport dom, { reportError } from \"zeta-dom/dom\";\r\nimport { ZetaEventContainer } from \"zeta-dom/events\";\r\nimport { always, any, arrRemove, catchAsync, createPrivateStore, defineObservableProperty, defineOwnProperty, definePrototype, delay, each, exclude, executeOnce, extend, fill, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, makeArray, map, noop, pick, randomId, setImmediate, single, throwNotFunction, watch } from \"zeta-dom/util\";\r\nimport { animateIn, animateOut } from \"brew-js/anim\";\r\nimport { toQueryString } from \"brew-js/util/common\";\r\nimport { removeQueryAndHash } from \"brew-js/util/path\";\r\nimport { app, onAppInit } from \"./app.js\";\r\nimport { ViewStateContainer } from \"./hooks.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst root = dom.root;\r\nconst routeMap = new Map();\r\nconst usedParams = {};\r\nconst sortedViews = [];\r\nconst emitter = new ZetaEventContainer();\r\nconst rootContext = freeze(extend(new ViewContext(), { container: root }));\r\nconst rootState = _(rootContext);\r\nconst StateContext = createContext(rootContext);\r\n\r\nvar errorView;\r\n/** @type {Partial<Zeta.ZetaEventType<\"beforepageload\", Brew.RouterEventMap, Element>>} */\r\nvar event = { waitFor: noop };\r\n\r\nonAppInit(function () {\r\n    app.on('beforepageload', function (e) {\r\n        rootState.setPage(app.page);\r\n        rootState.setActive(true);\r\n        event = e;\r\n        (function updateViewRecursive(next) {\r\n            each(next.children, function (i, v) {\r\n                e.waitFor(new Promise(function (resolve) {\r\n                    v.onRender = resolve;\r\n                    v.forceUpdate();\r\n                }).then(function () {\r\n                    updateViewRecursive(v);\r\n                }));\r\n            });\r\n        })(rootState);\r\n    });\r\n    rootState.setPage(app.page);\r\n});\r\n\r\nexport function ViewContext(view, page, parent) {\r\n    var self = this;\r\n    defineOwnProperty(self, 'view', view || null, true);\r\n    defineOwnProperty(self, 'parent', parent || null, true);\r\n    _(self, {\r\n        children: [],\r\n        setPage: defineObservableProperty(self, 'page', page || null, true),\r\n        setActive: defineObservableProperty(self, 'active', !!page, true)\r\n    });\r\n    watch(self, 'page', function (page, previousPage) {\r\n        emitter.emit('pagechange', self, {\r\n            page: page,\r\n            previousPage: previousPage,\r\n            navigationType: event.navigationType,\r\n            waitFor: event.waitFor\r\n        });\r\n    });\r\n}\r\ndefineOwnProperty(ViewContext, 'root', rootContext, true);\r\n\r\ndefinePrototype(ViewContext, {\r\n    getChildren: function () {\r\n        return map(_(this).children, function (v) {\r\n            return v.currentContext;\r\n        });\r\n    },\r\n    setErrorView: function (errorView, error) {\r\n        var wrapper = _(this).wrapper;\r\n        return wrapper && errorView && !wrapper.setState({ error, errorView });\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    }\r\n});\r\n\r\nfunction ErrorBoundary(props) {\r\n    Component.call(this, props);\r\n    this.state = {};\r\n    _(props.context).wrapper = this;\r\n}\r\n\r\ndefinePrototype(ErrorBoundary, Component, {\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        self.componentWillUnmount = watch(self.props.context, 'page', function () {\r\n            self.state.errorView = null;\r\n            self.forceUpdate();\r\n        });\r\n    },\r\n    componentDidCatch: function (error) {\r\n        var self = this;\r\n        if (errorView && self.state.errorView !== errorView) {\r\n            self.setState({ error, errorView });\r\n        } else {\r\n            self.props.onLoad();\r\n            reportError(error, self.props.context.container);\r\n        }\r\n    },\r\n    render: function () {\r\n        var self = this;\r\n        var context = self.props.context;\r\n        if (!context.container) {\r\n            setImmediate(function () {\r\n                extend(self, createAsyncScope(context.container));\r\n                dom.on(context.container, 'error', function (e) {\r\n                    return emitter.emit(e, context, { error: e.error });\r\n                });\r\n                self.forceUpdate();\r\n            });\r\n            return null;\r\n        }\r\n        var errorView = self.state.errorView;\r\n        if (errorView) {\r\n            self.props.onLoad();\r\n            return createElement(self.Provider, null, createElement(self.state.errorView, {\r\n                view: context.view,\r\n                error: self.state.error,\r\n                reset: self.reset.bind(self)\r\n            }));\r\n        }\r\n        var onError = self.componentDidCatch.bind(self);\r\n        var viewProps = {\r\n            errorHandler: self.errorHandler,\r\n            navigationType: event.navigationType,\r\n            viewContext: context,\r\n            viewData: context.page.data || {}\r\n        };\r\n        return createElement(self.Provider, null, createElement(context.view, extend({ viewProps, onError }, self.props)));\r\n    },\r\n    reset: function () {\r\n        this.setState({ errorView: null });\r\n    }\r\n});\r\n\r\nfunction ViewContainer() {\r\n    Component.apply(this, arguments);\r\n    this.views = [];\r\n}\r\nViewContainer.contextType = StateContext;\r\n\r\ndefinePrototype(ViewContainer, Component, {\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        var parent = _(self.context).children;\r\n        var unwatch = watch(app.route, function () {\r\n            self.setActive(self.getViewComponent() === (self.currentContext || '').view);\r\n        });\r\n        self.componentWillUnmount = function () {\r\n            self.setActive(false);\r\n            arrRemove(parent, self);\r\n            unwatch();\r\n            setImmediate(function () {\r\n                if (self.currentContext && !self.currentContext.active) {\r\n                    self.unmountView();\r\n                }\r\n            });\r\n        };\r\n        parent.push(self);\r\n        self.setActive(true);\r\n    },\r\n    render: function () {\r\n        /** @type {any} */\r\n        var self = this;\r\n        if (self.context.active) {\r\n            self.updateView();\r\n        }\r\n        self.onRender();\r\n        return self.views;\r\n    },\r\n    updateView: function () {\r\n        var self = this;\r\n        var V = self.getViewComponent();\r\n        var viewChanged = V !== (self.currentContext || '').view;\r\n        if (V && (viewChanged || !(self.children || '')[0])) {\r\n            // ensure the current path actually corresponds to the matched view\r\n            // when some views are not included in the list of allowed views\r\n            var targetPath = resolvePath(V, app.route);\r\n            if (targetPath !== removeQueryAndHash(app.path)) {\r\n                app.navigate(targetPath, true);\r\n                return;\r\n            }\r\n        }\r\n        var state = routeMap.get(V) || {};\r\n        if ((self.views[2] || '').key === state.id) {\r\n            return;\r\n        }\r\n        self.views[2] = null;\r\n        self.abort();\r\n        if (!V || !viewChanged) {\r\n            self.setActive(true);\r\n            self.setPage(app.page);\r\n            return;\r\n        }\r\n        event.waitFor(new Promise(function (resolve) {\r\n            var context = new ViewContext(V, app.page, self.context);\r\n            var rootProps = self.props.rootProps;\r\n            var initElement = executeOnce(function (element) {\r\n                defineOwnProperty(context, 'container', element, true);\r\n                self.currentContext = self.currentContext || context;\r\n            });\r\n            var onLoad = executeOnce(function () {\r\n                var element = context.container;\r\n                var promise = self.unmountView();\r\n                self.unmountView = executeOnce(function () {\r\n                    state.rendered--;\r\n                    self.setActive(false);\r\n                    app.emit('pageleave', element, { pathname: context.page.path, view: V }, true);\r\n                    return animateOut(element, 'show').then(function () {\r\n                        self.views[0] = null;\r\n                        self.forceUpdate();\r\n                    });\r\n                });\r\n                always(promise, delay).then(function () {\r\n                    app.emit('pageenter', element, { pathname: context.page.path, view: V }, true);\r\n                });\r\n                self.views.shift();\r\n                self.currentContext = context;\r\n                extend(self, _(context));\r\n                state.rendered++;\r\n                animateIn(element, 'show', '[brew-view]', true);\r\n                resolve();\r\n            });\r\n            context.on('error', function () {\r\n                return (rootProps.onError || noop).apply(this, arguments);\r\n            });\r\n            self.abort = resolve;\r\n            self.views[2] = createElement(StateContext.Provider, { key: state.id, value: context },\r\n                createElement(ViewStateContainer, null,\r\n                    createElement('div', extend(exclude(rootProps, ['loader', 'onError']), { ref: initElement, 'brew-view': '' }),\r\n                        createElement(ErrorBoundary, { onLoad, context, self, loader: rootProps.loader }))));\r\n        }));\r\n    },\r\n    getViewComponent: function () {\r\n        var props = this.props;\r\n        return any(props.views, function (v) {\r\n            return matchViewParams(v, app.route);\r\n        }) || props.defaultView;\r\n    }\r\n});\r\nfill(ViewContainer.prototype, 'abort onRender setActive setPage unmountView', noop);\r\n\r\nfunction normalizePart(value, part) {\r\n    return isUndefinedOrNull(value) || value === '' || value === part ? '' : value[0] === part ? value : part + value;\r\n}\r\n\r\nfunction getCurrentParams(view, params) {\r\n    var state = routeMap.get(view);\r\n    if (!state.maxParams) {\r\n        var matchers = exclude(state.matchers, ['remainingSegments']);\r\n        var matched = map(app.routes, function (v) {\r\n            var route = app.parseRoute(v);\r\n            var matched = route.length && !any(matchers, function (v, i) {\r\n                var pos = route.params[i];\r\n                return (v ? !(pos >= 0) : pos < route.minLength) || (!isFunction(v) && !route.match(i, v));\r\n            });\r\n            return matched ? route : null;\r\n        });\r\n        if (matched[1]) {\r\n            matched = grep(matched, function (v) {\r\n                return !single(v.params, function (v, i) {\r\n                    return usedParams[i] && !matchers[i];\r\n                });\r\n            });\r\n        }\r\n        if (matched[0]) {\r\n            var last = matched.slice(-1)[0];\r\n            state.maxParams = keys(extend.apply(0, [{ remainingSegments: true }].concat(matched.map(function (v) {\r\n                return v.params;\r\n            }))));\r\n            state.minParams = map(last.params, function (v, i) {\r\n                return state.params[i] || v >= last.minLength ? null : i;\r\n            });\r\n        }\r\n    }\r\n    return extend(pick(app.route, state.minParams), params && pick(params, state.maxParams), state.params);\r\n}\r\n\r\nfunction sortViews(a, b) {\r\n    return (routeMap.get(b) || {}).matchCount - (routeMap.get(a) || {}).matchCount;\r\n}\r\n\r\nfunction matchViewParams(view, route) {\r\n    var params = routeMap.get(view);\r\n    return !!params && !single(params.matchers, function (v, i) {\r\n        var value = route[i] || '';\r\n        return isFunction(v) ? !v(value) : (v || '') !== value;\r\n    });\r\n}\r\n\r\nfunction createViewComponent(factory) {\r\n    var promise;\r\n    throwNotFunction(factory);\r\n    if (factory.prototype instanceof Component) {\r\n        factory = createElement.bind(null, factory);\r\n    }\r\n    return function fn(props) {\r\n        var children = promise || factory(props.viewProps);\r\n        if (isThenable(children)) {\r\n            promise = children;\r\n            catchAsync(promise);\r\n        } else {\r\n            useLayoutEffect(props.onLoad, []);\r\n            return children;\r\n        }\r\n        var component = useAsync(function () {\r\n            return promise.then(null, function (error) {\r\n                promise = null;\r\n                props.onError(error);\r\n            });\r\n        })[0];\r\n        if (component) {\r\n            props.onLoad();\r\n        }\r\n        return component ? createElement(component.default, props.viewProps) : (props.self.currentContext === props.context && props.loader) || null;\r\n    };\r\n}\r\n\r\nexport function useViewContext() {\r\n    return useContext(StateContext);\r\n}\r\n\r\nexport function isViewMatched(view) {\r\n    var route = app.route;\r\n    return matchViewParams(view, route) && resolvePath(view, route) === route.toString();\r\n}\r\n\r\nexport function isViewRendered(view) {\r\n    return !!(routeMap.get(view) || '').rendered;\r\n}\r\n\r\nexport function matchView() {\r\n    var views = makeArray(arguments);\r\n    var route = app.route;\r\n    if (typeof views[0] === 'string') {\r\n        route = route.parse(views.shift());\r\n    }\r\n    views = views[0] ? (isArray(views[0]) ? makeArray(views[0]) : views).sort(sortViews) : sortedViews;\r\n    return any(views, function (v) {\r\n        return matchViewParams(v, route);\r\n    }) || undefined;\r\n}\r\n\r\nexport function registerView(factory, routeParams) {\r\n    var Component = createViewComponent(factory);\r\n    routeParams = extend({}, routeParams);\r\n    each(routeParams, function (i, v) {\r\n        usedParams[i] = true;\r\n        if (v instanceof RegExp) {\r\n            routeParams[i] = v.test.bind(v);\r\n        }\r\n    });\r\n    routeMap.set(Component, {\r\n        id: randomId(),\r\n        rendered: 0,\r\n        matchCount: keys(routeParams).length,\r\n        matchers: routeParams,\r\n        params: pick(routeParams, function (v) {\r\n            return isUndefinedOrNull(v) || typeof v === 'string';\r\n        })\r\n    });\r\n    sortedViews.push(Component);\r\n    sortedViews.sort(sortViews);\r\n    return Component;\r\n}\r\n\r\nexport function registerErrorView(factory) {\r\n    errorView = throwNotFunction(factory);\r\n}\r\n\r\nexport function renderView() {\r\n    var views = makeArray(arguments);\r\n    var rootProps = isFunction(views[0]) ? {} : views.shift();\r\n    var defaultView = views[0];\r\n    each(views, function (i, v) {\r\n        if (!routeMap.has(v)) {\r\n            throw new Error('Invalid argument to renderView: ' + (isFunction(v) ? v.name : v));\r\n        }\r\n    });\r\n    views.sort(sortViews);\r\n    return createElement(ViewContainer, { rootProps, views, defaultView });\r\n}\r\n\r\nexport function resolvePath(view, params) {\r\n    var suffix = '';\r\n    if (isArray(params)) {\r\n        suffix = normalizePart(isPlainObject(params[1]) ? toQueryString(params[1]) : params[1], '?') + normalizePart(params[2], '#');\r\n        params = params[0];\r\n    }\r\n    return (routeMap.has(view) ? app.route.getPath(getCurrentParams(view, params)) : '/') + suffix;\r\n}\r\n\r\nexport function linkTo(view, params) {\r\n    return app.toHref(resolvePath(view, params));\r\n}\r\n\r\nexport function navigateTo(view, params, data, replace) {\r\n    return app.navigate(resolvePath(view, params), replace, data && freeze(extend({}, data)));\r\n}\r\n\r\nexport function redirectTo(view, params, data) {\r\n    return navigateTo(view, params, data, true);\r\n}\r\n\r\nexport {\r\n    useViewContext as useViewContainerState\r\n}\r\n","import { createElement, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { ViewStateProvider, useEagerState, useMemoizedFunction, useObservableProperty, useValueTrigger } from \"zeta-dom-react\";\r\nimport { catchAsync, definePrototype, delay, each, equal, extend, freeze, isFunction, isPlainObject, keys, kv, mapObject, throwNotFunction } from \"zeta-dom/util\";\r\nimport { ZetaEventContainer } from \"zeta-dom/events\";\r\nimport { getQueryParam, setQueryParam } from \"brew-js/util/common\";\r\nimport { parsePath } from \"brew-js/util/path\";\r\nimport { app } from \"./app.js\";\r\nimport { useViewContext } from \"./view.js\";\r\n\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction getCurrentStates() {\r\n    return app.historyStorage.current;\r\n}\r\n\r\nfunction ViewState(key, dispose) {\r\n    this.key = key;\r\n    this.store = getCurrentStates();\r\n    this.dispose = dispose;\r\n}\r\n\r\ndefinePrototype(ViewState, {\r\n    get: function () {\r\n        return this.store.get(this.key);\r\n    },\r\n    set: function (value, snapshot) {\r\n        this.store = updatePersistedValue(this.store, this.key, value, snapshot);\r\n    },\r\n    onPopState: function (callback) {\r\n        throwNotFunction(callback);\r\n        return emitter.add(this, 'popstate', function (e) {\r\n            callback.call(this, e.newValue);\r\n        });\r\n    }\r\n});\r\n\r\nfunction updatePersistedValue(cur, key, value, snapshot) {\r\n    if (cur.get(key) !== value) {\r\n        if (snapshot && cur.has(key)) {\r\n            app.snapshot();\r\n            cur = getCurrentStates();\r\n        }\r\n        cur.set(key, value);\r\n    }\r\n    return cur;\r\n}\r\n\r\nfunction updateViewState(state, key, store) {\r\n    var newValue = state.get();\r\n    if (key !== state.key || (store !== state.store && store.has(key))) {\r\n        newValue = store.get(key);\r\n        emitter.emit('popstate', state, { newValue });\r\n    }\r\n    state.key = key;\r\n    state.store = store;\r\n    store.set(key, newValue);\r\n}\r\n\r\nfunction useViewContextWithEffect(callback, deps) {\r\n    const container = useViewContext();\r\n    useEffect(function () {\r\n        return app.on('beforepageload popstate', function () {\r\n            if (container.active) {\r\n                callback(getCurrentStates());\r\n            }\r\n        });\r\n    }, deps);\r\n    return container;\r\n}\r\n\r\nexport function useAppReady() {\r\n    return useAppReadyState().ready;\r\n}\r\n\r\nexport function useAppReadyState() {\r\n    const readyState = useObservableProperty(app, 'readyState');\r\n    return {\r\n        ready: readyState === 'ready',\r\n        error: readyState === 'error'\r\n    };\r\n}\r\n\r\nexport function useRouteParam(name, defaultValue) {\r\n    const container = useViewContext();\r\n    const params = container.page.params;\r\n    const value = params[name] || '';\r\n    const notifyChange = useValueTrigger(value);\r\n    useEffect(function () {\r\n        var setValue = function () {\r\n            notifyChange(container.page.params[name] || '');\r\n        };\r\n        // route parameter might be changed after state initialization and before useEffect hook is called\r\n        setValue();\r\n        return container.on('pagechange', setValue);\r\n    }, [name]);\r\n    if (defaultValue && container.active && (!value || (name === 'remainingSegments' && value === '/'))) {\r\n        app.navigate(app.route.getPath(extend({}, params, kv(name, defaultValue))), true);\r\n    }\r\n    return value;\r\n}\r\n\r\nexport function useRouteState(key, defaultValue, snapshotOnUpdate) {\r\n    var cur = getCurrentStates();\r\n    var state = useEagerState(cur && cur.has(key) ? cur.get(key) : defaultValue);\r\n    var container = useViewContextWithEffect(function (cur) {\r\n        state[1](function (oldValue) {\r\n            return cur.has(key) ? cur.get(key) : (cur.set(key, oldValue), oldValue);\r\n        });\r\n    }, [key]);\r\n    if (!cur) {\r\n        // delay app ready to ensure that beforepageload event can be caught\r\n        app.beforeInit(delay(1));\r\n    } else if (container.active) {\r\n        updatePersistedValue(cur, key, state[0], snapshotOnUpdate);\r\n    }\r\n    return state;\r\n}\r\n\r\nexport function useQueryParam(key, value, snapshotOnUpdate) {\r\n    if (isPlainObject(key)) {\r\n        snapshotOnUpdate = value;\r\n        value = key;\r\n        key = false;\r\n    }\r\n    var container = useViewContext();\r\n    var getParams = function () {\r\n        return freeze(mapObject(key === false ? value : kv(key, value), function (v, i) {\r\n            return getQueryParam(i, app.path) || v || '';\r\n        }));\r\n    };\r\n    var ref = useRef({});\r\n    useMemo(function () {\r\n        ref.current = getParams();\r\n    }, [key]);\r\n    var current = ref.current;\r\n    var notifyChange = useValueTrigger(current, function (current, params) {\r\n        return equal(current, params) || !(ref.current = params);\r\n    });\r\n    var setParams = useMemoizedFunction(function (values) {\r\n        var current = ref.current;\r\n        if (key !== false) {\r\n            values = kv(key, isFunction(values) ? values(current[key]) : values);\r\n        } else if (isFunction(values)) {\r\n            values = values(extend({}, current));\r\n        }\r\n        if (container.active) {\r\n            var url = parsePath(app.path);\r\n            var search = keys(values).reduce(function (v, i) {\r\n                return values[i] !== current[i] ? setQueryParam(i, values[i] || null, v) : v;\r\n            }, url.search);\r\n            if (search !== url.search) {\r\n                if (snapshotOnUpdate) {\r\n                    app.snapshot();\r\n                }\r\n                catchAsync(app.navigate((search || '?') + url.hash, true));\r\n                notifyChange(getParams());\r\n            }\r\n        }\r\n    });\r\n    useEffect(function () {\r\n        return app.watch('path', function () {\r\n            if (container.active) {\r\n                notifyChange(getParams());\r\n            }\r\n        });\r\n    }, [key]);\r\n    return [key !== false ? current[key] : current, setParams];\r\n}\r\n\r\nexport function ViewStateContainer(props) {\r\n    const cache = useState({})[0];\r\n    const container = useViewContextWithEffect(function (cur) {\r\n        each(cache, function (i, v) {\r\n            updateViewState(v, v.key, cur);\r\n        });\r\n    }, []);\r\n    const provider = useState(function () {\r\n        return {\r\n            getState: function (uniqueId, key) {\r\n                var state = cache[uniqueId];\r\n                if (state && container.active) {\r\n                    updateViewState(state, key, getCurrentStates());\r\n                }\r\n                return state || (cache[uniqueId] = new ViewState(key, function () {\r\n                    delete cache[uniqueId];\r\n                }));\r\n            }\r\n        };\r\n    })[0];\r\n    return createElement(ViewStateProvider, { value: provider }, props.children);\r\n}\r\n","import { useObservableProperty } from \"zeta-dom-react\";\r\nimport waterpipe from \"waterpipe\";\r\nimport { extend, keys, makeArray, single } from \"zeta-dom/util\";\r\nimport { app } from \"./app.js\";\r\n\r\nconst empty = Object.create(null);\r\nconst toPrimitive = typeof Symbol === 'function' && Symbol.toPrimitive;\r\n\r\nfunction TString(toString) {\r\n    this.toString = toString;\r\n}\r\n\r\nif (toPrimitive) {\r\n    TString.prototype[toPrimitive] = function () {\r\n        return this.toString();\r\n    };\r\n}\r\n\r\nfunction createCallback(translate) {\r\n    var callback = function (key, data, lang) {\r\n        var result = translate(key, data, lang, true);\r\n        return result !== undefined ? result : key;\r\n    };\r\n    return extend(callback, {\r\n        html: function (id, data, lang) {\r\n            return { __html: translate(id, data, lang) };\r\n        },\r\n        lazy: function (id, data, lang) {\r\n            return new TString(translate.bind(0, id, data, lang, true));\r\n        }\r\n    });\r\n}\r\n\r\nexport function useLanguage() {\r\n    return useObservableProperty(app, 'language');\r\n}\r\n\r\nexport function makeTranslation(resources, defaultLang) {\r\n    const re = new RegExp('^(' + Object.keys(resources[defaultLang]).join('|') + ')\\\\.');\r\n    const cache = {};\r\n\r\n    function getTranslation(prefix, name, data, noEncode, lang) {\r\n        var str = ((resources[lang] || empty)[prefix] || empty)[name];\r\n        if (typeof str === 'string') {\r\n            if (str && (!noEncode || data !== undefined)) {\r\n                return waterpipe(str, data, { noEncode });\r\n            }\r\n            return str;\r\n        }\r\n        if (lang !== defaultLang) {\r\n            return getTranslation(prefix, name, data, noEncode, defaultLang);\r\n        }\r\n    }\r\n\r\n    function translate(key, data, lang, noEncode) {\r\n        var prefix = re.test(key) ? RegExp.$1 : '';\r\n        var name = prefix ? key.slice(RegExp.lastMatch.length) : key;\r\n        return getTranslation(prefix, name, data, noEncode, lang || app.language);\r\n    }\r\n\r\n    function getTranslationCallback() {\r\n        var currentLang = String(this);\r\n        var prefix = makeArray(arguments);\r\n        var key = currentLang + ' ' + prefix.join(' ');\r\n        return cache[key] || (cache[key] = prefix[0] ? createCallback(function (key, data, lang, noEncode) {\r\n            lang = lang || currentLang || app.language;\r\n            return single(prefix, function (v) {\r\n                return getTranslation(v, key, data, noEncode, lang);\r\n            })\r\n        }) : createCallback(function (key, data, lang, noEncode) {\r\n            return translate(key, data, lang || currentLang, noEncode);\r\n        }));\r\n    }\r\n\r\n    function useTranslation() {\r\n        var language = useLanguage();\r\n        var t = getTranslationCallback.apply(language, arguments);\r\n        return { language, t };\r\n    }\r\n\r\n    return {\r\n        translate: createCallback(translate),\r\n        getTranslation: getTranslationCallback.bind(''),\r\n        useTranslation: useTranslation,\r\n        keys: function (prefix) {\r\n            return keys(resources[defaultLang][prefix] || empty);\r\n        }\r\n    };\r\n}\r\n","import { definePrototype, extend, isPlainObject, kv } from \"zeta-dom/util\";\r\nimport Mixin from \"./Mixin.js\";\r\n\r\nexport default function StaticAttributeMixin(name, value) {\r\n    Mixin.call(this);\r\n    this.attributes = isPlainObject(name) || kv(name, value || '');\r\n}\r\n\r\ndefinePrototype(StaticAttributeMixin, Mixin, {\r\n    getCustomAttributes: function () {\r\n        return extend({}, this.attributes);\r\n    }\r\n});\r\n","import { classNames } from \"zeta-dom-react\";\r\nimport { combineFn, define, definePrototype, each, extend, makeArray, noop, watchable } from \"zeta-dom/util\";\r\nimport StaticAttributeMixin from \"./StaticAttributeMixin.js\";\r\n\r\nexport default function Mixin() {\r\n}\r\n\r\ndefinePrototype(Mixin, {\r\n    reset: function () {\r\n        return this;\r\n    },\r\n    next: function () {\r\n    },\r\n    getRef: function () {\r\n        return noop;\r\n    },\r\n    getClassNames: function () {\r\n        return [];\r\n    },\r\n    getCustomAttributes: function () {\r\n        return {};\r\n    },\r\n    dispose: function () {\r\n    }\r\n});\r\nwatchable(Mixin.prototype);\r\n\r\ndefine(Mixin, {\r\n    get scrollableTarget() {\r\n        return new StaticAttributeMixin('scrollable-target');\r\n    },\r\n    get tabRoot() {\r\n        return new StaticAttributeMixin('tab-root');\r\n    },\r\n    use: function () {\r\n        const args = makeArray(arguments);\r\n        const ref = args[0];\r\n        const props = {};\r\n        const mixins = args.filter(function (v) {\r\n            return v instanceof Mixin;\r\n        });\r\n        const refs = mixins.map(function (v) {\r\n            return v.getRef();\r\n        });\r\n        if (ref && !(ref instanceof Mixin)) {\r\n            if (typeof ref !== 'function') {\r\n                refs.push(function (v) {\r\n                    ref.current = v;\r\n                });\r\n            } else {\r\n                refs.push(ref);\r\n            }\r\n            args.shift();\r\n        } else if (!ref) {\r\n            args.shift();\r\n        }\r\n        each(mixins, function (i, v) {\r\n            extend(props, v.getCustomAttributes());\r\n        });\r\n        extend(props, {\r\n            ref: combineFn(refs),\r\n            className: classNames.apply(null, args)\r\n        });\r\n        each(mixins, function (i, v) {\r\n            v.next();\r\n        });\r\n        return props;\r\n    }\r\n});\r\n","import lib from \"zeta-dom\";\r\nconst { watchElements, watchOwnAttributes } = lib.dom;\r\nexport { watchElements, watchOwnAttributes };","import { arrRemove, combineFn, createPrivateStore, definePrototype, each, extend, keys, setImmediateOnce, throwNotFunction, watch } from \"zeta-dom/util\";\r\nimport Mixin from \"./Mixin.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst unmounted = new Set();\r\n\r\nfunction disposeUnmountedStates() {\r\n    each(unmounted, function (i, v) {\r\n        combineFn(_(v).splice(0))();\r\n    });\r\n    unmounted.clear();\r\n}\r\n\r\nfunction MixinState(parent, element) {\r\n    _(this, [parent.delete.bind(parent, element)]);\r\n    parent.set(element, this);\r\n}\r\n\r\ndefinePrototype(MixinState, {\r\n    onDispose: function (callback) {\r\n        _(this).push(throwNotFunction(callback));\r\n    }\r\n});\r\n\r\nfunction MixinRefImpl(mixin) {\r\n    this.mixin = mixin;\r\n}\r\n\r\ndefinePrototype(MixinRefImpl, {\r\n    getMixin: function () {\r\n        return this.mixin;\r\n    }\r\n});\r\n\r\nexport default function StatefulMixin() {\r\n    Mixin.call(this);\r\n    _(this, {\r\n        pending: {},\r\n        elements: [],\r\n        states: new Map(),\r\n        flush: watch(this, false),\r\n        dispose: []\r\n    });\r\n}\r\n\r\ndefinePrototype(StatefulMixin, Mixin, {\r\n    get ref() {\r\n        const state = _(this);\r\n        return state.ref || (state.ref = new MixinRefImpl(this));\r\n    },\r\n    get state() {\r\n        return _(this).pending;\r\n    },\r\n    reset: function () {\r\n        _(this).pending = {};\r\n        return this;\r\n    },\r\n    next: function () {\r\n        _(this).pending = {};\r\n        return this;\r\n    },\r\n    getRef: function () {\r\n        var self = this;\r\n        var obj = _(self);\r\n        var newState = obj.pending;\r\n        var element, state;\r\n        return function (current) {\r\n            if (current) {\r\n                element = current;\r\n                state = obj.states.get(element) || new MixinState(obj.states, element);\r\n                obj.elements.push(element);\r\n                if (!state.element) {\r\n                    self.initElement(element, extend(state, self.initState(), newState, { element }));\r\n                } else if (keys(newState)[0]) {\r\n                    self.mergeState(element, state, newState);\r\n                }\r\n                self.onLayoutEffect(element, state);\r\n                unmounted.delete(state);\r\n            } else if (state) {\r\n                unmounted.add(state);\r\n                self.onBeforeUpdate(element, state);\r\n                arrRemove(obj.elements, element);\r\n            }\r\n            setImmediateOnce(disposeUnmountedStates);\r\n        };\r\n    },\r\n    elements: function () {\r\n        return _(this).elements.slice();\r\n    },\r\n    onDispose: function (callback) {\r\n        _(this).dispose.push(callback);\r\n    },\r\n    initState: function () {\r\n        return {};\r\n    },\r\n    initElement: function (element, state) {\r\n    },\r\n    mergeState: function (element, state, newState) {\r\n        extend(state, newState);\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n    },\r\n    onBeforeUpdate: function (element, state) {\r\n    },\r\n    clone: function () {\r\n        return this;\r\n    },\r\n    dispose: function () {\r\n        var state = _(this);\r\n        each(state.states, function (i, v) {\r\n            unmounted.add(v);\r\n        });\r\n        setImmediateOnce(disposeUnmountedStates);\r\n        combineFn(state.dispose.splice(0))();\r\n        state.flush();\r\n        state.pending = {};\r\n    }\r\n});\r\n","import { definePrototype, each, equal, extend, fill } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport { watchOwnAttributes } from \"zeta-dom/observe\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nfunction checkState(self, element, state, fireEvent) {\r\n    var classNames = state.classNames;\r\n    var prev = extend({}, classNames);\r\n    each(classNames, function (i) {\r\n        classNames[i] = element.classList.contains(i);\r\n    });\r\n    if (fireEvent && !equal(state.prev || prev, classNames)) {\r\n        state.prev = prev;\r\n        self.onClassNameUpdated(element, prev, extend({}, classNames));\r\n    }\r\n}\r\n\r\nexport default function ClassNameMixin(classNames) {\r\n    StatefulMixin.call(this);\r\n    this.classNames = classNames || [];\r\n}\r\n\r\ndefinePrototype(ClassNameMixin, StatefulMixin, {\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        state.classNames = fill(self.classNames, false);\r\n        checkState(self, element, state);\r\n        state.onDispose(watchOwnAttributes(element, 'class', function () {\r\n            checkState(self, element, state, true);\r\n        }).dispose);\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n        setClass(element, state.classNames);\r\n    },\r\n    onBeforeUpdate: function (element, state) {\r\n        checkState(this, element, state);\r\n    },\r\n    onClassNameUpdated: function (element, prevState, state) {\r\n    }\r\n});\r\n","import { definePrototype, extend, makeArray } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst AnimateMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function AnimateMixin() {\r\n    ClassNameMixin.call(this, ['tweening-in', 'tweening-out']);\r\n}\r\n\r\ndefinePrototype(AnimateMixin, ClassNameMixin, {\r\n    next: function () {\r\n        var self = this;\r\n        self.effects = undefined;\r\n        self.trigger = undefined;\r\n        return AnimateMixinSuper.next.call(self);\r\n    },\r\n    with: function (props) {\r\n        var self = this;\r\n        self.effects = props.effects;\r\n        self.trigger = props.trigger;\r\n        return self;\r\n    },\r\n    withEffects: function () {\r\n        this.effects = makeArray(arguments);\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(AnimateMixinSuper.getCustomAttributes.call(self), {\r\n            'animate-in': (self.effects || []).join(' '),\r\n            'animate-on': self.trigger || 'show'\r\n        });\r\n    }\r\n});\r\n","import { definePrototype, extend } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst AnimateSequenceItemMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function AnimateSequenceItemMixin(className) {\r\n    ClassNameMixin.call(this, ['tweening-in', 'tweening-out']);\r\n    this.className = className;\r\n}\r\n\r\ndefinePrototype(AnimateSequenceItemMixin, ClassNameMixin, {\r\n    getCustomAttributes: function () {\r\n        return extend(AnimateSequenceItemMixinSuper.getCustomAttributes.call(this), {\r\n            'is-animate-sequence': ''\r\n        });\r\n    },\r\n    getClassNames: function () {\r\n        return [this.className].concat(AnimateSequenceItemMixinSuper.getClassNames.call(this));\r\n    }\r\n});\r\n","import $ from \"jquery\";\r\nimport { watchElements } from \"zeta-dom/observe\";\r\nimport { definePrototype, extend } from \"zeta-dom/util\";\r\nimport AnimateMixin from \"./AnimateMixin.js\";\r\nimport AnimateSequenceItemMixin from \"./AnimateSequenceItemMixin.js\";\r\n\r\nconst AnimateSequenceMixinSuper = AnimateMixin.prototype;\r\nvar animateSequenceMixinCounter = 0;\r\n\r\nexport default function AnimateSequenceMixin() {\r\n    var self = this;\r\n    AnimateMixin.call(self);\r\n    self.className = 'brew-anim-' + (++animateSequenceMixinCounter);\r\n    self.item = new AnimateSequenceItemMixin(self.className);\r\n}\r\n\r\ndefinePrototype(AnimateSequenceMixin, AnimateMixin, {\r\n    withOptions: function (options) {\r\n        this.selector = options;\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(AnimateSequenceMixinSuper.getCustomAttributes.call(self), {\r\n            'animate-in': null,\r\n            'animate-sequence-type': (self.effects || []).join(' '),\r\n            'animate-sequence': self.selector || '.' + self.className\r\n        });\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        AnimateSequenceMixinSuper.initElement.call(self, element, state);\r\n        if (self.selector) {\r\n            state.onDispose(watchElements(element, self.selector, function (addedNodes) {\r\n                $(addedNodes).attr('is-animate-sequence', '');\r\n            }).dispose);\r\n        }\r\n    }\r\n});\r\n","import { definePrototype, each, extend, isPlainObject, kv } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nexport default function ClassNameToggleMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(ClassNameToggleMixin, StatefulMixin, {\r\n    withOptions: function (classes) {\r\n        this.classes = extend({}, classes);\r\n    },\r\n    getClassNames: function () {\r\n        return this.classes;\r\n    },\r\n    set: function (name, value) {\r\n        value = isPlainObject(name) || kv(name, value);\r\n        each(this.elements(), function (i, v) {\r\n            setClass(v, value);\r\n        });\r\n        extend(this.classes, value);\r\n    }\r\n});\r\n","import dom from \"zeta-dom/dom\";\r\nimport { definePrototype } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst FlyoutToggleMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function FlyoutToggleMixin(mixin) {\r\n    ClassNameMixin.call(this, ['target-opened']);\r\n    this.flyoutMixin = mixin;\r\n}\r\n\r\nfunction triggerFlyoutAction(self, state, trigger, action, args) {\r\n    if ((state.trigger || 'click') === trigger) {\r\n        action.apply(self, args);\r\n    }\r\n}\r\n\r\ndefinePrototype(FlyoutToggleMixin, ClassNameMixin, {\r\n    on: function (trigger) {\r\n        this.state.trigger = trigger;\r\n        return this;\r\n    },\r\n    open: function (value, source) {\r\n        return this.flyoutMixin.open(value, source);\r\n    },\r\n    close: function (value) {\r\n        return this.flyoutMixin.close(value);\r\n    },\r\n    toggle: function (flag, source) {\r\n        return this.flyoutMixin.toggleSelf(flag, source);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        FlyoutToggleMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(dom.on(element, {\r\n            focusin: function () {\r\n                triggerFlyoutAction(self, state, 'focus', self.open, [null, dom.activeElement]);\r\n            },\r\n            focusout: function () {\r\n                triggerFlyoutAction(self, state, 'focus', self.close, []);\r\n            },\r\n            click: function () {\r\n                triggerFlyoutAction(self, state, 'click', self.toggle, [element]);\r\n            }\r\n        }));\r\n    }\r\n});\r\n","import { combineFn, definePrototype, extend, isFunction, makeArray, noop, pick, resolve, throws } from \"zeta-dom/util\";\r\nimport { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout } from \"brew-js/domAction\";\r\nimport { app } from \"../app.js\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\nimport FlyoutToggleMixin from \"./FlyoutToggleMixin.js\";\r\n\r\nconst FlyoutMixinSuper = ClassNameMixin.prototype;\r\nconst valueMap = new WeakMap();\r\n\r\nfunction toggleSelf(self, flag, value, source) {\r\n    if (!flag && !isFlyoutOpen(self.element)) {\r\n        return resolve();\r\n    }\r\n    var options = self.getOptions();\r\n    return flag ? openFlyout(self.element, value, source, options) : toggleFlyout(self.element, source, options);\r\n}\r\n\r\nexport default function FlyoutMixin() {\r\n    var self = this;\r\n    ClassNameMixin.call(self, ['open', 'closing', 'visible', 'tweening-in', 'tweening-out']);\r\n    self.modal = false;\r\n    self.tabThrough = false;\r\n    self.isFlyoutOpened = false;\r\n    self.animating = false;\r\n    self.visible = false;\r\n    self.initialFocus = undefined;\r\n    self.toggle = new FlyoutToggleMixin(self);\r\n    self.onDispose(function () {\r\n        self.isFlyoutOpened = false;\r\n        self.visible = false;\r\n        self.toggle.dispose();\r\n    });\r\n}\r\n\r\ndefinePrototype(FlyoutMixin, ClassNameMixin, {\r\n    get element() {\r\n        return this.elements()[0] || null;\r\n    },\r\n    getOptions: function () {\r\n        var self = this;\r\n        var options = pick(self, ['closeOnBlur', 'containment']);\r\n        if (self.initialFocus !== undefined) {\r\n            options.focus = self.initialFocus;\r\n        }\r\n        return options;\r\n    },\r\n    next: function () {\r\n        this.effects = undefined;\r\n        return FlyoutMixinSuper.next.call(this);\r\n    },\r\n    withEffects: function () {\r\n        this.effects = makeArray(arguments);\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(FlyoutMixinSuper.getCustomAttributes.call(self), {\r\n            'is-flyout': '',\r\n            'swipe-dismiss': self.swipeToDismiss\r\n        }, self.modal && {\r\n            'is-modal': ''\r\n        }, self.tabThrough && {\r\n            'tab-through': ''\r\n        }, self.effects && {\r\n            'animate-on': 'open',\r\n            'animate-in': self.effects.join(' '),\r\n            'animate-out': ''\r\n        });\r\n    },\r\n    open: function (value, source) {\r\n        return toggleSelf(this, true, value, source);\r\n    },\r\n    close: function (value) {\r\n        return closeFlyout(this.element, value);\r\n    },\r\n    toggleSelf: function (flag, source) {\r\n        if (typeof flag !== 'boolean') {\r\n            source = flag;\r\n            flag = !isFlyoutOpen(this.element);\r\n        }\r\n        return toggleSelf(this, flag, undefined, source);\r\n    },\r\n    onOpen: function (callback) {\r\n        return this.onToggleState(function (opened) {\r\n            if (opened) {\r\n                callback(valueMap.get(this.element));\r\n            }\r\n        });\r\n    },\r\n    onToggleState: function (callback) {\r\n        return this.watch('isFlyoutOpened', callback);\r\n    },\r\n    onVisibilityChanged: function (callback) {\r\n        return this.watch('visible', callback);\r\n    },\r\n    whenVisible: function (effect) {\r\n        var dispose = [];\r\n        dispose[0] = this.watch('visible', function (visible) {\r\n            dispose[1] = (visible ? isFunction(effect()) : dispose[1] && void dispose[1]()) || noop;\r\n        }, true);\r\n        return combineFn(dispose);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        if (self.elements()[1]) {\r\n            throws('FlyoutMixin only supports single element');\r\n        }\r\n        FlyoutMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(app.on(element, {\r\n            flyoutshow: function (e) {\r\n                valueMap.set(element, e.data);\r\n                self.isFlyoutOpened = true;\r\n                self.visible = true;\r\n            },\r\n            flyoutclose: function () {\r\n                self.isFlyoutOpened = false;\r\n            },\r\n            flyouthide: function () {\r\n                self.visible = false;\r\n            },\r\n            animationstart: function () {\r\n                self.animating = true;\r\n            },\r\n            animationcomplete: function () {\r\n                self.animating = false;\r\n            },\r\n        }, true));\r\n    }\r\n});\r\n","import { definePrototype } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport dom from \"zeta-dom/dom\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nconst FocusStateMixinSuper = StatefulMixin.prototype;\r\n\r\nexport default function FocusStateMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(FocusStateMixin, StatefulMixin, {\r\n    for: function (ref) {\r\n        this.state.ref = ref;\r\n        return this;\r\n    },\r\n    initElement: function (element, state) {\r\n        FocusStateMixinSuper.initElement.call(this, element, state);\r\n        var checkTarget = function (callback, arg) {\r\n            var ref = state.ref;\r\n            var target = ref && (typeof ref === 'string' ? element.querySelector(ref) : ref.current);\r\n            if (target && !dom.focused(target)) {\r\n                callback(arg || target);\r\n            }\r\n        };\r\n        state.onDispose(dom.on(element, {\r\n            focusin: function (e) {\r\n                state.focused = e.source;\r\n                setClass(element, 'focused', e.source);\r\n                checkTarget(dom.focus);\r\n            },\r\n            focusout: function () {\r\n                state.focused = false;\r\n                setClass(element, 'focused', false);\r\n            },\r\n            focuschange: function () {\r\n                checkTarget(dom.blur, element);\r\n            }\r\n        }));\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n        setClass(element, 'focused', state.focused);\r\n    }\r\n});\r\n","import lib from \"brew-js\";\r\nconst { getDirectiveComponent } = lib;\r\nexport { getDirectiveComponent };","import { any, definePrototype } from \"zeta-dom/util\";\r\nimport { getClass } from \"zeta-dom/domUtil\";\r\nimport { subscribeAsync } from \"zeta-dom/domLock\";\r\nimport { getDirectiveComponent } from \"brew-js/directive\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst LoadingStateMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function LoadingStateMixin() {\r\n    ClassNameMixin.call(this, ['loading', 'loading-complete']);\r\n    this.loading = false;\r\n}\r\n\r\ndefinePrototype(LoadingStateMixin, ClassNameMixin, {\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        LoadingStateMixinSuper.initElement.call(self, element, state);\r\n        getDirectiveComponent(element).enableLoadingClass = true;\r\n        state.onDispose(subscribeAsync(element, function (loading) {\r\n            self.loading = loading || !!any(self.elements(), function (v) {\r\n                return v !== element && getClass(v, 'loading') === true;\r\n            });\r\n        }));\r\n    }\r\n});\r\n","import { defineHiddenProperty, definePrototype, each, extend, throws } from \"zeta-dom/util\";\r\nimport { getDirectiveComponent } from \"brew-js/directive\";\r\nimport { app } from \"../app.js\";\r\nimport Mixin from \"./Mixin.js\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst ScrollableMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function ScrollableMixin() {\r\n    var self = this;\r\n    ClassNameMixin.call(self, ['scrollable-x', 'scrollable-x-l', 'scrollable-x-r', 'scrollable-y', 'scrollable-y-d', 'scrollable-y-u']);\r\n    self.target = Mixin.scrollableTarget;\r\n    self.pageIndex = 0;\r\n    self.scrolling = false;\r\n}\r\n\r\ndefinePrototype(ScrollableMixin, ClassNameMixin, {\r\n    get element() {\r\n        return this.elements()[0] || null;\r\n    },\r\n    get contentElement() {\r\n        var element = this.element;\r\n        return element && getDirectiveComponent(element).scrollable.scrollTarget;\r\n    },\r\n    withOptions: function (options) {\r\n        this.options = options;\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var options = this.options || {};\r\n        return extend(ScrollableMixinSuper.getCustomAttributes.call(this), {\r\n            'scrollable': [options.direction || 'both', options.handle || 'auto'].join(' '),\r\n        }, options.pagedItemSelector && {\r\n            'scroller-snap-page': options.paged,\r\n            'scroller-page': options.pagedItemSelector,\r\n        }, options.persistScroll && {\r\n            'persist-scroll': ''\r\n        });\r\n    },\r\n    onPageIndexChanged: function (callback) {\r\n        return this.watch('pageIndex', callback);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        if (self.elements()[1]) {\r\n            throws('ScrollableMixin only supports single element');\r\n        }\r\n        ScrollableMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(app.on(element, {\r\n            scrollIndexChange: function (e) {\r\n                self.pageIndex = e.newIndex;\r\n            },\r\n            scrollStart: function () {\r\n                self.scrolling = true;\r\n            },\r\n            scrollStop: function () {\r\n                self.scrolling = false;\r\n            }\r\n        }, true));\r\n    }\r\n});\r\n\r\neach('destroy enable disable setOptions setStickyPosition refresh scrollPadding stop scrollLeft scrollTop scrollBy scrollTo scrollByPage scrollToPage scrollToElement', function (i, v) {\r\n    defineHiddenProperty(ScrollableMixin.prototype, v, function () {\r\n        var obj = getDirectiveComponent(this.element);\r\n        return obj.scrollable[v].apply(null, arguments);\r\n    });\r\n});\r\n","import { definePrototype, equal, extend, setImmediateOnce } from \"zeta-dom/util\";\r\nimport { scrollIntoView } from \"zeta-dom/domUtil\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nexport default function ScrollIntoViewMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(ScrollIntoViewMixin, StatefulMixin, {\r\n    when: function (deps) {\r\n        this.state.deps = deps;\r\n        return this;\r\n    },\r\n    initElement: function (element, state) {\r\n        state.callback = function () {\r\n            scrollIntoView(element);\r\n        };\r\n    },\r\n    mergeState: function (element, state, newState) {\r\n        if (newState.deps && !equal(newState.deps, state.deps)) {\r\n            setImmediateOnce(state.callback);\r\n        }\r\n        extend(state, newState);\r\n    }\r\n});\r\n","import { definePrototype, makeArray } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nexport default function UnmanagedClassNameMixin() {\r\n    ClassNameMixin.call(this);\r\n}\r\n\r\ndefinePrototype(UnmanagedClassNameMixin, ClassNameMixin, {\r\n    memorize: function () {\r\n        this.classNames = makeArray(arguments);\r\n        return this;\r\n    }\r\n});\r\n","import { useSingleton } from \"zeta-dom-react\";\r\nimport { extend } from \"zeta-dom/util\";\r\nimport Mixin from \"./mixins/Mixin.js\";\r\nimport AnimateMixin from \"./mixins/AnimateMixin.js\";\r\nimport AnimateSequenceItemMixin from \"./mixins/AnimateSequenceItemMixin.js\";\r\nimport AnimateSequenceMixin from \"./mixins/AnimateSequenceMixin.js\";\r\nimport ClassNameMixin from \"./mixins/ClassNameMixin.js\";\r\nimport ClassNameToggleMixin from \"./mixins/ClassNameToggleMixin.js\";\r\nimport FlyoutMixin from \"./mixins/FlyoutMixin.js\";\r\nimport FlyoutToggleMixin from \"./mixins/FlyoutToggleMixin.js\";\r\nimport FocusStateMixin from \"./mixins/FocusStateMixin.js\";\r\nimport LoadingStateMixin from \"./mixins/LoadingStateMixin.js\";\r\nimport StatefulMixin from \"./mixins/StatefulMixin.js\";\r\nimport ScrollableMixin from \"./mixins/ScrollableMixin.js\";\r\nimport ScrollIntoViewMixin from \"./mixins/ScrollIntoViewMixin.js\";\r\nimport UnmanagedClassNameMixin from \"./mixins/UnmanagedClassNameMixin.js\";\r\n\r\nfunction extendSelf(options) {\r\n    extend(this, options);\r\n}\r\n\r\nfunction createUseFunction(ctor) {\r\n    return function () {\r\n        var mixin = useMixin(ctor);\r\n        (mixin.withOptions || extendSelf).apply(mixin, arguments);\r\n        return mixin;\r\n    };\r\n}\r\n\r\nexport const useAnimateMixin = /*#__PURE__*/ createUseFunction(AnimateMixin);\r\nexport const useAnimateSequenceMixin = /*#__PURE__*/ createUseFunction(AnimateSequenceMixin);\r\nexport const useClassNameToggleMixin = /*#__PURE__*/ createUseFunction(ClassNameToggleMixin);\r\nexport const useFlyoutMixin = /*#__PURE__*/ createUseFunction(FlyoutMixin);\r\nexport const useFocusStateMixin = /*#__PURE__*/ createUseFunction(FocusStateMixin);\r\nexport const useLoadingStateMixin = /*#__PURE__*/ createUseFunction(LoadingStateMixin);\r\nexport const useScrollableMixin = /*#__PURE__*/ createUseFunction(ScrollableMixin);\r\nexport const useScrollIntoViewMixin = /*#__PURE__*/ createUseFunction(ScrollIntoViewMixin);\r\nexport const useUnmanagedClassNameMixin = /*#__PURE__*/ createUseFunction(UnmanagedClassNameMixin);\r\n\r\nexport function useMixin(ctor) {\r\n    return useSingleton(function () {\r\n        return new ctor();\r\n    }).reset();\r\n}\r\n\r\nexport function useMixinRef(mixin) {\r\n    return mixin && mixin.getMixin().reset();\r\n}\r\n\r\nexport {\r\n    Mixin,\r\n    AnimateMixin,\r\n    AnimateSequenceItemMixin,\r\n    AnimateSequenceMixin,\r\n    ClassNameMixin,\r\n    ClassNameToggleMixin,\r\n    FlyoutMixin,\r\n    FlyoutToggleMixin,\r\n    FocusStateMixin,\r\n    LoadingStateMixin,\r\n    StatefulMixin,\r\n    ScrollableMixin,\r\n    ScrollIntoViewMixin,\r\n    UnmanagedClassNameMixin,\r\n}\r\n","import { } from \"./app.js\";\r\nimport brew from \"brew-js/app\";\r\nexport default brew;\r\n\r\nexport * from \"./dialog.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./i18n.js\";\r\nexport * from \"./mixin.js\";\r\nexport * from \"./view.js\";\r\n","import { defineGetterProperty } from \"zeta-dom/util\";\r\n\r\ndefineGetterProperty(window, 'brew-js-react', function () {\r\n    console.warn('window[\"brew-js-react\"] is deprecated, access brew.react instead.');\r\n    return brew.react;\r\n});\r\n\r\nexport * from \"./index.js\";\r\n"],"names":["lib","_lib$util","util","always","any","arrRemove","catchAsync","combineFn","createPrivateStore","define","defineGetterProperty","defineHiddenProperty","defineObservableProperty","defineOwnProperty","definePrototype","delay","each","either","equal","exclude","executeOnce","extend","fill","freeze","grep","isArray","isFunction","isPlainObject","isThenable","isUndefinedOrNull","keys","kv","makeArray","map","mapObject","noop","pick","randomId","resolve","setImmediate","setImmediateOnce","single","throwNotFunction","throws","watch","watchable","addExtension","install","defaults","app","appInitCallabcks","onAppInit","callback","push","extension","app_","react","Component","StrictMode","createContext","createElement","useContext","useEffect","useLayoutEffect","useMemo","useRef","useState","ViewStateProvider","classNames","createAsyncScope","useAsync","useEagerState","useMemoizedFunction","useObservableProperty","useSingleton","useValueTrigger","containsOrEquals","getClass","removeNode","scrollIntoView","setClass","dom","reportError","_lib$dom","lock","preventLeave","runAsync","subscribeAsync","closeFlyout","isFlyoutOpen","openFlyout","toggleFlyout","ReactDOM","ReactDOMClient","createDialog","props","root","document","reactRoot","createRoot","scope","closeDialog","bind","promise","on","flyoutshow","onOpen","flyouthide","onClose","onRender","unmount","setAttribute","close","open","className","body","appendChild","modal","commitDialog","onCommit","value","activeElement","then","dialogProps","errorHandler","dismissDialog","content","wrapper","render","Provider","retainFocus","preventNavigation","Dialog","_props","dialog","opened","isOpen","createPortal","children","EventContainer","ZetaEventContainer","getQueryParam","setQueryParam","toQueryString","parsePath","removeQueryAndHash","animateIn","animateOut","ViewStateContainer","_","routeMap","Map","usedParams","sortedViews","emitter","rootContext","ViewContext","container","rootState","StateContext","errorView","event","waitFor","e","setPage","page","setActive","updateViewRecursive","next","i","v","Promise","forceUpdate","view","parent","self","previousPage","emit","navigationType","getChildren","currentContext","setErrorView","error","setState","handler","add","ErrorBoundary","call","state","context","componentDidMount","componentWillUnmount","componentDidCatch","onLoad","reset","onError","viewProps","viewContext","viewData","data","ViewContainer","apply","arguments","views","contextType","unwatch","route","getViewComponent","active","unmountView","updateView","V","viewChanged","targetPath","resolvePath","path","navigate","get","key","id","abort","rootProps","initElement","element","rendered","pathname","shift","ref","loader","matchViewParams","defaultView","prototype","normalizePart","part","getCurrentParams","params","maxParams","matchers","matched","routes","parseRoute","length","pos","minLength","match","last","slice","remainingSegments","concat","minParams","sortViews","a","b","matchCount","createViewComponent","factory","fn","component","useViewContext","isViewMatched","toString","isViewRendered","matchView","parse","sort","undefined","registerView","routeParams","RegExp","test","set","registerErrorView","renderView","has","Error","name","suffix","getPath","linkTo","toHref","navigateTo","replace","redirectTo","useViewContainerState","getCurrentStates","historyStorage","current","ViewState","dispose","store","snapshot","updatePersistedValue","onPopState","newValue","cur","updateViewState","useViewContextWithEffect","deps","useAppReady","useAppReadyState","ready","readyState","useRouteParam","defaultValue","notifyChange","setValue","useRouteState","snapshotOnUpdate","oldValue","beforeInit","useQueryParam","getParams","setParams","values","url","search","reduce","hash","cache","provider","getState","uniqueId","waterpipe","empty","Object","create","toPrimitive","Symbol","TString","createCallback","translate","lang","result","html","__html","lazy","useLanguage","makeTranslation","resources","defaultLang","re","join","getTranslation","prefix","noEncode","str","$1","lastMatch","language","getTranslationCallback","currentLang","String","useTranslation","t","Mixin","StaticAttributeMixin","attributes","getCustomAttributes","getRef","getClassNames","scrollableTarget","tabRoot","use","args","mixins","filter","refs","watchElements","watchOwnAttributes","unmounted","Set","disposeUnmountedStates","splice","clear","MixinState","onDispose","MixinRefImpl","mixin","getMixin","StatefulMixin","pending","elements","states","flush","obj","newState","initState","mergeState","onLayoutEffect","onBeforeUpdate","clone","checkState","fireEvent","prev","classList","contains","onClassNameUpdated","ClassNameMixin","prevState","AnimateMixinSuper","AnimateMixin","effects","trigger","_with","withEffects","AnimateSequenceItemMixinSuper","AnimateSequenceItemMixin","$","AnimateSequenceMixinSuper","animateSequenceMixinCounter","AnimateSequenceMixin","item","withOptions","options","selector","addedNodes","attr","ClassNameToggleMixin","classes","FlyoutToggleMixinSuper","FlyoutToggleMixin","flyoutMixin","triggerFlyoutAction","action","source","toggle","flag","toggleSelf","focusin","focusout","click","FlyoutMixinSuper","valueMap","WeakMap","getOptions","FlyoutMixin","tabThrough","isFlyoutOpened","animating","visible","initialFocus","focus","swipeToDismiss","onToggleState","onVisibilityChanged","whenVisible","effect","flyoutclose","animationstart","animationcomplete","FocusStateMixinSuper","FocusStateMixin","_for","checkTarget","arg","target","querySelector","focused","focuschange","blur","getDirectiveComponent","LoadingStateMixinSuper","LoadingStateMixin","loading","enableLoadingClass","ScrollableMixinSuper","ScrollableMixin","pageIndex","scrolling","contentElement","scrollable","scrollTarget","direction","handle","pagedItemSelector","paged","persistScroll","onPageIndexChanged","scrollIndexChange","newIndex","scrollStart","scrollStop","ScrollIntoViewMixin","when","UnmanagedClassNameMixin","memorize","extendSelf","createUseFunction","ctor","useMixin","useAnimateMixin","useAnimateSequenceMixin","useClassNameToggleMixin","useFlyoutMixin","useFocusStateMixin","useLoadingStateMixin","useScrollableMixin","useScrollIntoViewMixin","useUnmanagedClassNameMixin","useMixinRef","brew","window","console","warn"],"sourceRoot":""}