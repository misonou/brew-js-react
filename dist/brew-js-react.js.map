{"version":3,"file":"brew-js-react.js","mappings":"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","sources":["webpack://brew.react/webpack/universalModuleDefinition","webpack://brew.react/external umd \"waterpipe\"","webpack://brew.react/external umd {\"commonjs\":\"brew-js\",\"commonjs2\":\"brew-js\",\"amd\":\"brew-js\",\"root\":\"brew\"}","webpack://brew.react/external umd {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack://brew.react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://brew.react/external umd {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack://brew.react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://brew.react/external umd {\"commonjs\":\"zeta-dom-react\",\"commonjs2\":\"zeta-dom-react\",\"amd\":\"zeta-dom-react\",\"root\":[\"zeta\",\"react\"]}","webpack://brew.react/./node_modules/@misonou/react-dom-client/fallback.js","webpack://brew.react/webpack/bootstrap","webpack://brew.react/webpack/runtime/define property getters","webpack://brew.react/webpack/runtime/hasOwnProperty shorthand","webpack://brew.react/webpack/runtime/make namespace object","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/util.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/app.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/defaults.js","webpack://brew.react/./src/app.js","webpack://brew.react/../brew-js-react|umd|C:/react.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom-react.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/domUtil.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/dom.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/domLock.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/domAction.js","webpack://brew.react/./src/dialog.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/events.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/util/common.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/util/path.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/anim.js","webpack://brew.react/./src/view.js","webpack://brew.react/./src/hooks.js","webpack://brew.react/./src/i18n.js","webpack://brew.react/./src/mixins/StaticAttributeMixin.js","webpack://brew.react/./src/mixins/Mixin.js","webpack://brew.react/../brew-js-react|umd|C:/zeta-dom/observe.js","webpack://brew.react/./src/mixins/StatefulMixin.js","webpack://brew.react/./src/mixins/ClassNameMixin.js","webpack://brew.react/./src/mixins/AnimateMixin.js","webpack://brew.react/./src/mixins/AnimateSequenceItemMixin.js","webpack://brew.react/./src/mixins/AnimateSequenceMixin.js","webpack://brew.react/./src/mixins/ClassNameToggleMixin.js","webpack://brew.react/./src/mixins/FlyoutToggleMixin.js","webpack://brew.react/./src/mixins/FlyoutMixin.js","webpack://brew.react/./src/mixins/FocusStateMixin.js","webpack://brew.react/../brew-js-react|umd|C:/brew-js/directive.js","webpack://brew.react/./src/mixins/LoadingStateMixin.js","webpack://brew.react/./src/mixins/ScrollableMixin.js","webpack://brew.react/./src/mixins/ScrollIntoViewMixin.js","webpack://brew.react/./src/mixins/UnmanagedClassNameMixin.js","webpack://brew.react/./src/mixin.js","webpack://brew.react/./src/index.js","webpack://brew.react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"zeta-dom\"), require(\"brew-js\"), require(\"react\"), require(\"react-dom\"), require(\"zeta-dom-react\"), require(\"waterpipe\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"brew-js-react\", [\"zeta-dom\", \"brew-js\", \"react\", \"react-dom\", \"zeta-dom-react\", \"waterpipe\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"brew-js-react\"] = factory(require(\"zeta-dom\"), require(\"brew-js\"), require(\"react\"), require(\"react-dom\"), require(\"zeta-dom-react\"), require(\"waterpipe\"), require(\"jquery\"));\n\telse\n\t\troot[\"brew\"] = root[\"brew\"] || {}, root[\"brew\"][\"react\"] = factory(root[\"zeta\"], root[\"brew\"], root[\"React\"], root[\"ReactDOM\"], root[\"zeta\"][\"react\"], root[\"waterpipe\"], root[\"jQuery\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__231__, __WEBPACK_EXTERNAL_MODULE__760__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__33__, __WEBPACK_EXTERNAL_MODULE__402__, __WEBPACK_EXTERNAL_MODULE__87__, __WEBPACK_EXTERNAL_MODULE__914__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__87__;","module.exports = __WEBPACK_EXTERNAL_MODULE__760__;","module.exports = __WEBPACK_EXTERNAL_MODULE__914__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","module.exports = __WEBPACK_EXTERNAL_MODULE__231__;","module.exports = __WEBPACK_EXTERNAL_MODULE__402__;","var ReactDOM = require('react-dom');\r\nvar ReactDOMClient;\r\n\r\nif (ReactDOM.createRoot) {\r\n    ReactDOMClient = ReactDOM;\r\n} else {\r\n    ReactDOMClient = {\r\n        createRoot(container, options) {\r\n            return {\r\n                render(children) {\r\n                    ReactDOM.render(children, container);\r\n                },\r\n                unmount() {\r\n                    ReactDOM.unmountComponentAtNode(container);\r\n                }\r\n            };\r\n        },\r\n        hydrateRoot(container, initialChildren, options) {\r\n            ReactDOM.hydrate(initialChildren, container);\r\n            return ReactDOMClient.createRoot(container, options);\r\n        },\r\n    };\r\n}\r\n\r\n/** @type {import(\"react-dom/client\")} */\r\nmodule.exports = ReactDOMClient;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import lib from \"zeta-dom\";\r\nconst { any, arrRemove, catchAsync, combineFn, createPrivateStore, define, defineGetterProperty, defineHiddenProperty, defineObservableProperty, defineOwnProperty, definePrototype, delay, each, either, equal, exclude, executeOnce, extend, fill, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, kv, makeArray, map, mapObject, noop, pick, randomId, resolve, setImmediate, setImmediateOnce, single, throwNotFunction, throws, watch, watchable } = lib.util;\r\nexport { any, arrRemove, catchAsync, combineFn, createPrivateStore, define, defineGetterProperty, defineHiddenProperty, defineObservableProperty, defineOwnProperty, definePrototype, delay, each, either, equal, exclude, executeOnce, extend, fill, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, kv, makeArray, map, mapObject, noop, pick, randomId, resolve, setImmediate, setImmediateOnce, single, throwNotFunction, throws, watch, watchable };","import lib from \"brew-js\";\r\nexport default lib;\r\nconst { addExtension, install } = lib;\r\nexport { addExtension, install };","import lib from \"brew-js\";\r\nconst defaults = lib.defaults;\r\nexport default defaults;","import { combineFn, throwNotFunction } from \"zeta-dom/util\";\r\nimport { addExtension, install } from \"brew-js/app\";\r\nimport defaults from \"brew-js/defaults\";\r\n\r\n/** @type {Brew.AppInstance<Brew.WithRouter & Brew.WithI18n>} */\r\nexport var app;\r\n\r\nconst appInitCallabcks = [];\r\n\r\nexport function onAppInit(callback) {\r\n    if (app) {\r\n        callback(app);\r\n    } else {\r\n        appInitCallabcks.push(throwNotFunction(callback));\r\n    }\r\n}\r\n\r\nconst extension = addExtension(true, 'react2', ['?router', '?i18n'], function (app_) {\r\n    app = app_;\r\n    combineFn(appInitCallabcks)(app);\r\n});\r\n\r\ninstall('react', extension);\r\ndefaults.react = true;\r\n","import lib from \"@misonou/hoist/react\";\r\nconst { Component, Fragment, StrictMode, createContext, createElement, useContext, useEffect, useMemo, useRef, useState } = lib;\r\nexport { Component, Fragment, StrictMode, createContext, createElement, useContext, useEffect, useMemo, useRef, useState };","import lib from \"@misonou/hoist/zeta-dom-react\";\r\nconst { ViewStateProvider, classNames, createAsyncScope, useAsync, useEagerState, useMemoizedFunction, useObservableProperty, useSingleton, useValueTrigger } = lib;\r\nexport { ViewStateProvider, classNames, createAsyncScope, useAsync, useEagerState, useMemoizedFunction, useObservableProperty, useSingleton, useValueTrigger };","import lib from \"zeta-dom\";\r\nconst { containsOrEquals, getClass, removeNode, scrollIntoView, setClass } = lib.util;\r\nexport { containsOrEquals, getClass, removeNode, scrollIntoView, setClass };","import lib from \"zeta-dom\";\r\nconst dom = lib.dom;\r\nexport default dom;\r\nconst { reportError } = dom;\r\nexport { reportError };","import lib from \"zeta-dom\";\r\nconst { lock, preventLeave, runAsync, subscribeAsync } = lib.dom;\r\nexport { lock, preventLeave, runAsync, subscribeAsync };","import lib from \"brew-js\";\r\nconst { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout } = lib;\r\nexport { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout };","import { createElement, StrictMode, useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport ReactDOMClient from \"@misonou/react-dom-client\";\r\nimport { createAsyncScope } from \"zeta-dom-react\";\r\nimport { either, extend, noop, pick, resolve } from \"zeta-dom/util\";\r\nimport { containsOrEquals, removeNode } from \"zeta-dom/domUtil\";\r\nimport dom from \"zeta-dom/dom\";\r\nimport { lock, preventLeave, runAsync, subscribeAsync } from \"zeta-dom/domLock\";\r\nimport { closeFlyout, openFlyout } from \"brew-js/domAction\";\r\n\r\n/**\r\n * @param {Partial<import(\"./dialog\").DialogOptions<any>>} props\r\n */\r\nexport function createDialog(props) {\r\n    var root = document.createElement('div');\r\n    var reactRoot = ReactDOMClient.createRoot(root);\r\n    var scope = createAsyncScope(root);\r\n    var closeDialog = closeFlyout.bind(0, root);\r\n    var promise;\r\n\r\n    dom.on(root, {\r\n        flyoutshow: function () {\r\n            (props.onOpen || noop)(root);\r\n        },\r\n        flyouthide: function () {\r\n            promise = null;\r\n            removeNode(root);\r\n            (props.onClose || noop)(root);\r\n            if (props.onRender) {\r\n                reactRoot.unmount();\r\n            }\r\n        }\r\n    });\r\n    root.setAttribute('loading-class', '');\r\n    subscribeAsync(root, true);\r\n\r\n    return {\r\n        root: root,\r\n        close: closeDialog,\r\n        open: function () {\r\n            if (promise) {\r\n                return promise;\r\n            }\r\n            root.className = props.className || '';\r\n            document.body.appendChild(root);\r\n            if (props.modal) {\r\n                root.setAttribute('is-modal', '');\r\n            }\r\n            if (props.onRender) {\r\n                var commitDialog = props.onCommit ? function (value) {\r\n                    return runAsync(dom.activeElement, props.onCommit.bind(this, value)).then(closeDialog);\r\n                } : closeDialog;\r\n                var dialogProps = extend({}, props, {\r\n                    errorHandler: scope.errorHandler,\r\n                    closeDialog: commitDialog,\r\n                    commitDialog: commitDialog,\r\n                    dismissDialog: closeDialog\r\n                });\r\n                var content = createElement(props.onRender, dialogProps);\r\n                if (props.wrapper) {\r\n                    content = createElement(props.wrapper, dialogProps, content);\r\n                }\r\n                reactRoot.render(createElement(StrictMode, null, createElement(scope.Provider, null, content)));\r\n            }\r\n            promise = resolve().then(function () {\r\n                dom.retainFocus(dom.activeElement, root);\r\n                return openFlyout(root, null, pick(props, ['focus']));\r\n            });\r\n            if (props.preventLeave) {\r\n                preventLeave(root, promise);\r\n            } else if (props.preventNavigation) {\r\n                lock(root, promise);\r\n            }\r\n            return promise;\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * @param {import(\"./dialog\").DialogProps} props\r\n */\r\nexport function Dialog(props) {\r\n    const _props = useState({})[0];\r\n    const dialog = useState(function () {\r\n        return createDialog(_props);\r\n    })[0];\r\n    extend(_props, props);\r\n\r\n    useEffect(function () {\r\n        var opened = containsOrEquals(dom.root, dialog.root);\r\n        if (either(opened, _props.isOpen)) {\r\n            if (!opened) {\r\n                dialog.open();\r\n            } else {\r\n                dialog.close();\r\n            }\r\n        }\r\n    }, [_props.isOpen])\r\n    useEffect(function () {\r\n        return dialog.close;\r\n    }, [dialog]);\r\n    return ReactDOM.createPortal(props.children, dialog.root);\r\n}\r\n","import lib from \"zeta-dom\";\r\nconst { EventContainer } = lib;\r\nexport { EventContainer as ZetaEventContainer };","import lib from \"brew-js\";\r\nconst { getQueryParam, setQueryParam, toQueryString } = lib;\r\nexport { getQueryParam, setQueryParam, toQueryString };","import lib from \"brew-js\";\r\nconst { parsePath, removeQueryAndHash } = lib;\r\nexport { parsePath, removeQueryAndHash };","import lib from \"brew-js\";\r\nconst { animateIn, animateOut } = lib;\r\nexport { animateIn, animateOut };","import { Component, Fragment, createContext, createElement, useContext, useEffect } from \"react\";\r\nimport { createAsyncScope, useAsync } from \"zeta-dom-react\";\r\nimport dom, { reportError } from \"zeta-dom/dom\";\r\nimport { ZetaEventContainer } from \"zeta-dom/events\";\r\nimport { any, arrRemove, catchAsync, createPrivateStore, defineObservableProperty, defineOwnProperty, definePrototype, each, exclude, executeOnce, extend, freeze, grep, isArray, isFunction, isPlainObject, isThenable, isUndefinedOrNull, keys, makeArray, map, noop, pick, randomId, setImmediate, single, throwNotFunction, watch } from \"zeta-dom/util\";\r\nimport { animateIn, animateOut } from \"brew-js/anim\";\r\nimport { toQueryString } from \"brew-js/util/common\";\r\nimport { removeQueryAndHash } from \"brew-js/util/path\";\r\nimport { app, onAppInit } from \"./app.js\";\r\nimport { ViewStateContainer } from \"./hooks.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst root = dom.root;\r\nconst routeMap = new Map();\r\nconst usedParams = {};\r\nconst sortedViews = [];\r\nconst emitter = new ZetaEventContainer();\r\nconst rootContext = freeze(extend(new ViewContext(), { container: root }));\r\nconst rootState = _(rootContext);\r\nconst StateContext = createContext(rootContext);\r\n\r\nvar errorView;\r\n/** @type {Partial<Zeta.ZetaEventType<\"beforepageload\", Brew.RouterEventMap, Element>>} */\r\nvar event = {};\r\n\r\nonAppInit(function () {\r\n    app.on('beforepageload', function (e) {\r\n        rootState.setPage(app.page);\r\n        rootState.setActive(true);\r\n        event = e;\r\n        (function updateViewRecursive(next) {\r\n            each(next.children, function (i, v) {\r\n                e.waitFor(new Promise(function (resolve) {\r\n                    v.onRender = resolve;\r\n                    v.forceUpdate();\r\n                }).then(function () {\r\n                    updateViewRecursive(v);\r\n                }));\r\n            });\r\n        })(rootState);\r\n    });\r\n    rootState.setPage(app.page);\r\n});\r\n\r\nfunction ViewContext(view, page, parent) {\r\n    var self = this;\r\n    defineOwnProperty(self, 'view', view || null, true);\r\n    defineOwnProperty(self, 'parent', parent || null, true);\r\n    _(self, {\r\n        children: [],\r\n        setPage: defineObservableProperty(self, 'page', page || null, true),\r\n        setActive: defineObservableProperty(self, 'active', !!page, true)\r\n    });\r\n    watch(self, 'page', function (page, previousPage) {\r\n        emitter.emit('pagechange', self, {\r\n            page: page,\r\n            previousPage: previousPage,\r\n            navigationType: event.navigationType,\r\n            waitFor: event.waitFor\r\n        });\r\n    });\r\n}\r\n\r\ndefinePrototype(ViewContext, {\r\n    getChildren: function () {\r\n        return map(_(this).children, function (v) {\r\n            return v.currentContext;\r\n        });\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    }\r\n});\r\n\r\nfunction ErrorBoundary() {\r\n    Component.apply(this, arguments);\r\n    this.state = {};\r\n}\r\nErrorBoundary.contextType = StateContext;\r\n\r\ndefinePrototype(ErrorBoundary, Component, {\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        self.componentWillUnmount = watch(self.context, 'page', function () {\r\n            self.state.error = null;\r\n            self.forceUpdate();\r\n        });\r\n    },\r\n    componentDidCatch: function (error) {\r\n        var self = this;\r\n        if (errorView && !self.state.error) {\r\n            self.setState({ error });\r\n        } else {\r\n            // ensure promise sent to beforepageload event is resolved\r\n            self.props.onLoad();\r\n            reportError(error, self.context.container);\r\n        }\r\n    },\r\n    render: function () {\r\n        var self = this;\r\n        var context = self.context;\r\n        if (!context.container) {\r\n            setImmediate(function () {\r\n                self.forceUpdate();\r\n            });\r\n            return null;\r\n        }\r\n        var error = self.state.error;\r\n        var scope = self.scope || (self.scope = createAsyncScope(context.container));\r\n        var childProps = {\r\n            onLoad: self.props.onLoad,\r\n            onError: self.componentDidCatch.bind(self),\r\n            viewProps: error ? {\r\n                view: context.view,\r\n                error: error,\r\n                reset: self.reset.bind(self)\r\n            } : {\r\n                errorHandler: scope.errorHandler,\r\n                navigationType: event.navigationType,\r\n                viewContext: context,\r\n                viewData: context.page.data || {}\r\n            }\r\n        };\r\n        return createElement(scope.Provider, null, createElement(error ? errorView : context.view, childProps));\r\n    },\r\n    reset: function () {\r\n        this.setState({ error: null });\r\n    }\r\n});\r\n\r\nfunction ViewContainer() {\r\n    Component.apply(this, arguments);\r\n}\r\nViewContainer.contextType = StateContext;\r\n\r\ndefinePrototype(ViewContainer, Component, {\r\n    setActive: noop,\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        var parent = _(self.context).children;\r\n        var unwatch = watch(app.route, function () {\r\n            self.setActive(self.getViewComponent() === self.currentViewComponent);\r\n        });\r\n        self.componentWillUnmount = function () {\r\n            self.setActive(false);\r\n            arrRemove(parent, self);\r\n            unwatch();\r\n            setImmediate(function () {\r\n                if (self.unmountView && !self.currentContext.active) {\r\n                    self.unmountView();\r\n                }\r\n            });\r\n        };\r\n        parent.push(self);\r\n        self.setActive(true);\r\n    },\r\n    render: function () {\r\n        /** @type {any} */\r\n        var self = this;\r\n        if (self.context.active) {\r\n            self.updateView();\r\n        }\r\n        (self.onRender || noop)();\r\n        return createElement(Fragment, null, self.prevView, self.currentView);\r\n    },\r\n    updateView: function () {\r\n        var self = this;\r\n        var V = self.getViewComponent();\r\n        var viewChanged = V !== self.currentViewComponent;\r\n        if (V && (viewChanged || !(self.children || '')[0])) {\r\n            // ensure the current path actually corresponds to the matched view\r\n            // when some views are not included in the list of allowed views\r\n            var targetPath = resolvePath(V, app.route);\r\n            if (targetPath !== removeQueryAndHash(app.path)) {\r\n                app.navigate(targetPath, true);\r\n                return;\r\n            }\r\n        }\r\n        if (V && viewChanged) {\r\n            (self.unmountView || noop)(true);\r\n\r\n            var context = new ViewContext(V, app.page, self.context);\r\n            var state = routeMap.get(V);\r\n            var onLoad;\r\n            var promise = new Promise(function (resolve) {\r\n                onLoad = resolve;\r\n            });\r\n            var unmountView = onLoad;\r\n            var initElement = executeOnce(function (element) {\r\n                context.container = element;\r\n                promise.then(function () {\r\n                    if (self.currentContext === context) {\r\n                        unmountView = function () {\r\n                            self.prevView = self.currentView;\r\n                            app.emit('pageleave', element, { pathname: context.page.path, view: V }, true);\r\n                            animateOut(element, 'show').then(function () {\r\n                                self.prevView = undefined;\r\n                                self.forceUpdate();\r\n                            });\r\n                        };\r\n                        animateIn(element, 'show', '[brew-view]', true);\r\n                        app.emit('pageenter', element, { pathname: context.page.path, view: V }, true);\r\n                    }\r\n                });\r\n            });\r\n            var view = createElement(StateContext.Provider, { key: state.id, value: context },\r\n                createElement(ViewStateContainer, null,\r\n                    createElement('div', extend({}, self.props.rootProps, { ref: initElement, 'brew-view': '' }),\r\n                        createElement(ErrorBoundary, { onLoad }))));\r\n            extend(self, _(context), {\r\n                currentContext: context,\r\n                currentView: view,\r\n                currentViewComponent: V,\r\n                unmountView: executeOnce(function () {\r\n                    self.setActive(false);\r\n                    state.rendered--;\r\n                    unmountView();\r\n                })\r\n            });\r\n            state.rendered++;\r\n            (event.waitFor || noop)(promise);\r\n        }\r\n        (self.setPage || noop)(app.page);\r\n    },\r\n    getViewComponent: function () {\r\n        var props = this.props;\r\n        return any(props.views, isViewMatched) || props.defaultView;\r\n    }\r\n});\r\n\r\nfunction normalizePart(value, part) {\r\n    return isUndefinedOrNull(value) || value === '' || value === part ? '' : value[0] === part ? value : part + value;\r\n}\r\n\r\nfunction getCurrentParams(view, params) {\r\n    var state = routeMap.get(view);\r\n    if (!state.maxParams) {\r\n        var matchers = exclude(state.matchers, ['remainingSegments']);\r\n        var matched = map(app.routes, function (v) {\r\n            var route = app.parseRoute(v);\r\n            var matched = route.length && !any(matchers, function (v, i) {\r\n                var pos = route.params[i];\r\n                return (v ? !(pos >= 0) : pos < route.minLength) || (!isFunction(v) && !route.match(i, v));\r\n            });\r\n            return matched ? route : null;\r\n        });\r\n        if (matched[1]) {\r\n            matched = grep(matched, function (v) {\r\n                return !single(v.params, function (v, i) {\r\n                    return usedParams[i] && !matchers[i];\r\n                });\r\n            });\r\n        }\r\n        if (matched[0]) {\r\n            var last = matched.slice(-1)[0];\r\n            state.maxParams = keys(extend.apply(0, [{ remainingSegments: true }].concat(matched.map(function (v) {\r\n                return v.params;\r\n            }))));\r\n            state.minParams = map(last.params, function (v, i) {\r\n                return state.params[i] || v >= last.minLength ? null : i;\r\n            });\r\n        }\r\n    }\r\n    return extend(pick(app.route, state.minParams), params && pick(params, state.maxParams), state.params);\r\n}\r\n\r\nfunction sortViews(a, b) {\r\n    return (routeMap.get(b) || {}).matchCount - (routeMap.get(a) || {}).matchCount;\r\n}\r\n\r\nfunction matchViewParams(view, route) {\r\n    var params = routeMap.get(view);\r\n    return !!params && !single(params.matchers, function (v, i) {\r\n        var value = route[i] || '';\r\n        return isFunction(v) ? !v(value) : (v || '') !== value;\r\n    });\r\n}\r\n\r\nfunction createViewComponent(factory) {\r\n    var promise;\r\n    throwNotFunction(factory);\r\n    if (factory.prototype instanceof Component) {\r\n        factory = createElement.bind(null, factory);\r\n    }\r\n    return function fn(props) {\r\n        var children = promise || factory(props.viewProps);\r\n        if (isThenable(children)) {\r\n            promise = children;\r\n            catchAsync(promise);\r\n        } else {\r\n            useEffect(props.onLoad, []);\r\n            return children;\r\n        }\r\n        var component = useAsync(function () {\r\n            return promise.then(null, props.onError);\r\n        })[0];\r\n        useEffect(function () {\r\n            if (component) {\r\n                props.onLoad();\r\n            }\r\n        }, [component]);\r\n        return component ? createElement(component.default, props.viewProps) : null;\r\n    };\r\n}\r\n\r\nexport function useViewContext() {\r\n    return useContext(StateContext);\r\n}\r\n\r\nexport function isViewMatched(view) {\r\n    return matchViewParams(view, app.route);\r\n}\r\n\r\nexport function isViewRendered(view) {\r\n    return !!(routeMap.get(view) || '').rendered;\r\n}\r\n\r\nexport function matchView() {\r\n    var views = makeArray(arguments);\r\n    var route = app.route;\r\n    if (typeof views[0] === 'string') {\r\n        route = route.parse(views.shift());\r\n    }\r\n    views = views[0] ? (isArray(views[0]) ? makeArray(views[0]) : views).sort(sortViews) : sortedViews;\r\n    return any(views, function (v) {\r\n        return matchViewParams(v, route);\r\n    }) || undefined;\r\n}\r\n\r\nexport function registerView(factory, routeParams) {\r\n    var Component = createViewComponent(factory);\r\n    routeParams = extend({}, routeParams);\r\n    each(routeParams, function (i, v) {\r\n        usedParams[i] = true;\r\n        if (v instanceof RegExp) {\r\n            routeParams[i] = v.test.bind(v);\r\n        }\r\n    });\r\n    routeMap.set(Component, {\r\n        id: randomId(),\r\n        rendered: 0,\r\n        matchCount: keys(routeParams).length,\r\n        matchers: routeParams,\r\n        params: pick(routeParams, function (v) {\r\n            return isUndefinedOrNull(v) || typeof v === 'string';\r\n        })\r\n    });\r\n    sortedViews.push(Component);\r\n    sortedViews.sort(sortViews);\r\n    return Component;\r\n}\r\n\r\nexport function registerErrorView(factory) {\r\n    errorView = createViewComponent(factory);\r\n}\r\n\r\nexport function renderView() {\r\n    var views = makeArray(arguments);\r\n    var rootProps = isFunction(views[0]) ? {} : views.shift();\r\n    var defaultView = views[0];\r\n    each(views, function (i, v) {\r\n        if (!routeMap.has(v)) {\r\n            throw new Error('Invalid argument to renderView: ' + (isFunction(v) ? v.name : v));\r\n        }\r\n    });\r\n    views.sort(sortViews);\r\n    return createElement(ViewContainer, { rootProps, views, defaultView });\r\n}\r\n\r\nexport function resolvePath(view, params) {\r\n    var suffix = '';\r\n    if (isArray(params)) {\r\n        suffix = normalizePart(isPlainObject(params[1]) ? toQueryString(params[1]) : params[1], '?') + normalizePart(params[2], '#');\r\n        params = params[0];\r\n    }\r\n    return (routeMap.has(view) ? app.route.getPath(getCurrentParams(view, params)) : '/') + suffix;\r\n}\r\n\r\nexport function linkTo(view, params) {\r\n    return app.toHref(resolvePath(view, params));\r\n}\r\n\r\nexport function navigateTo(view, params, data, replace) {\r\n    return app.navigate(resolvePath(view, params), replace, data && freeze(extend({}, data)));\r\n}\r\n\r\nexport function redirectTo(view, params, data) {\r\n    return navigateTo(view, params, data, true);\r\n}\r\n\r\nexport {\r\n    useViewContext as useViewContainerState\r\n}\r\n","import { createElement, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { ViewStateProvider, useEagerState, useMemoizedFunction, useObservableProperty, useValueTrigger } from \"zeta-dom-react\";\r\nimport { catchAsync, definePrototype, delay, each, equal, extend, freeze, isFunction, isPlainObject, keys, kv, mapObject, throwNotFunction } from \"zeta-dom/util\";\r\nimport { ZetaEventContainer } from \"zeta-dom/events\";\r\nimport { getQueryParam, setQueryParam } from \"brew-js/util/common\";\r\nimport { parsePath } from \"brew-js/util/path\";\r\nimport { app } from \"./app.js\";\r\nimport { useViewContext } from \"./view.js\";\r\n\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction getCurrentStates() {\r\n    return app.historyStorage.current;\r\n}\r\n\r\nfunction ViewState(key, dispose) {\r\n    this.key = key;\r\n    this.store = getCurrentStates();\r\n    this.dispose = dispose;\r\n}\r\n\r\ndefinePrototype(ViewState, {\r\n    get: function () {\r\n        return this.store.get(this.key);\r\n    },\r\n    set: function (value, snapshot) {\r\n        this.store = updatePersistedValue(this.store, this.key, value, snapshot);\r\n    },\r\n    onPopState: function (callback) {\r\n        throwNotFunction(callback);\r\n        return emitter.add(this, 'popstate', function (e) {\r\n            callback.call(this, e.newValue);\r\n        });\r\n    }\r\n});\r\n\r\nfunction updatePersistedValue(cur, key, value, snapshot) {\r\n    if (cur.get(key) !== value) {\r\n        if (snapshot && cur.has(key)) {\r\n            app.snapshot();\r\n            cur = getCurrentStates();\r\n        }\r\n        cur.set(key, value);\r\n    }\r\n    return cur;\r\n}\r\n\r\nfunction updateViewState(state, key, store) {\r\n    var newValue = state.get();\r\n    if (key !== state.key || (store !== state.store && store.has(key))) {\r\n        newValue = store.get(key);\r\n        emitter.emit('popstate', state, { newValue });\r\n    }\r\n    state.key = key;\r\n    state.store = store;\r\n    store.set(key, newValue);\r\n}\r\n\r\nfunction useViewContextWithEffect(callback, deps) {\r\n    const container = useViewContext();\r\n    useEffect(function () {\r\n        return app.on('beforepageload popstate', function () {\r\n            if (container.active) {\r\n                callback(getCurrentStates());\r\n            }\r\n        });\r\n    }, deps);\r\n    return container;\r\n}\r\n\r\nexport function useAppReady() {\r\n    return useAppReadyState().ready;\r\n}\r\n\r\nexport function useAppReadyState() {\r\n    const readyState = useObservableProperty(app, 'readyState');\r\n    return {\r\n        ready: readyState === 'ready',\r\n        error: readyState === 'error'\r\n    };\r\n}\r\n\r\nexport function useRouteParam(name, defaultValue) {\r\n    const container = useViewContext();\r\n    const params = container.page.params;\r\n    const value = params[name] || '';\r\n    const notifyChange = useValueTrigger(value);\r\n    useEffect(function () {\r\n        var setValue = function () {\r\n            notifyChange(container.page.params[name] || '');\r\n        };\r\n        // route parameter might be changed after state initialization and before useEffect hook is called\r\n        setValue();\r\n        return container.on('pagechange', setValue);\r\n    }, [name]);\r\n    if (defaultValue && container.active && (!value || (name === 'remainingSegments' && value === '/'))) {\r\n        app.navigate(app.route.getPath(extend({}, params, kv(name, defaultValue))), true);\r\n    }\r\n    return value;\r\n}\r\n\r\nexport function useRouteState(key, defaultValue, snapshotOnUpdate) {\r\n    var cur = getCurrentStates();\r\n    var state = useEagerState(cur && cur.has(key) ? cur.get(key) : defaultValue);\r\n    var container = useViewContextWithEffect(function (cur) {\r\n        state[1](function (oldValue) {\r\n            return cur.has(key) ? cur.get(key) : (cur.set(key, oldValue), oldValue);\r\n        });\r\n    }, [key]);\r\n    if (!cur) {\r\n        // delay app ready to ensure that beforepageload event can be caught\r\n        app.beforeInit(delay(1));\r\n    } else if (container.active) {\r\n        updatePersistedValue(cur, key, state[0], snapshotOnUpdate);\r\n    }\r\n    return state;\r\n}\r\n\r\nexport function useQueryParam(key, value, snapshotOnUpdate) {\r\n    if (isPlainObject(key)) {\r\n        snapshotOnUpdate = value;\r\n        value = key;\r\n        key = false;\r\n    }\r\n    var container = useViewContext();\r\n    var getParams = function () {\r\n        return freeze(mapObject(key === false ? value : kv(key, value), function (v, i) {\r\n            return getQueryParam(i, app.path) || v || '';\r\n        }));\r\n    };\r\n    var ref = useRef({});\r\n    useMemo(function () {\r\n        ref.current = getParams();\r\n    }, [key]);\r\n    var current = ref.current;\r\n    var notifyChange = useValueTrigger(current, function (current, params) {\r\n        return equal(current, params) || !(ref.current = params);\r\n    });\r\n    var setParams = useMemoizedFunction(function (values) {\r\n        var current = ref.current;\r\n        if (key !== false) {\r\n            values = kv(key, isFunction(values) ? values(current[key]) : values);\r\n        } else if (isFunction(values)) {\r\n            values = values(extend({}, current));\r\n        }\r\n        if (container.active) {\r\n            var url = parsePath(app.path);\r\n            var search = keys(values).reduce(function (v, i) {\r\n                return values[i] !== current[i] ? setQueryParam(i, values[i] || null, v) : v;\r\n            }, url.search);\r\n            if (search !== url.search) {\r\n                if (snapshotOnUpdate) {\r\n                    app.snapshot();\r\n                }\r\n                catchAsync(app.navigate((search || '?') + url.hash, true));\r\n                notifyChange(getParams());\r\n            }\r\n        }\r\n    });\r\n    useEffect(function () {\r\n        return app.watch('path', function () {\r\n            if (container.active) {\r\n                notifyChange(getParams());\r\n            }\r\n        });\r\n    }, [key]);\r\n    return [key !== false ? current[key] : current, setParams];\r\n}\r\n\r\nexport function ViewStateContainer(props) {\r\n    const cache = useState({})[0];\r\n    const container = useViewContextWithEffect(function (cur) {\r\n        each(cache, function (i, v) {\r\n            updateViewState(v, v.key, cur);\r\n        });\r\n    }, []);\r\n    const provider = useState(function () {\r\n        return {\r\n            getState: function (uniqueId, key) {\r\n                var state = cache[uniqueId];\r\n                if (state && container.active) {\r\n                    updateViewState(state, key, getCurrentStates());\r\n                }\r\n                return state || (cache[uniqueId] = new ViewState(key, function () {\r\n                    delete cache[uniqueId];\r\n                }));\r\n            }\r\n        };\r\n    })[0];\r\n    return createElement(ViewStateProvider, { value: provider }, props.children);\r\n}\r\n","import { useObservableProperty } from \"zeta-dom-react\";\r\nimport waterpipe from \"waterpipe\";\r\nimport { extend, keys, makeArray, single } from \"zeta-dom/util\";\r\nimport { app } from \"./app.js\";\r\n\r\nconst empty = Object.create(null);\r\nconst toPrimitive = typeof Symbol === 'function' && Symbol.toPrimitive;\r\n\r\nfunction TString(toString) {\r\n    this.toString = toString;\r\n}\r\n\r\nif (toPrimitive) {\r\n    TString.prototype[toPrimitive] = function () {\r\n        return this.toString();\r\n    };\r\n}\r\n\r\nfunction createCallback(translate) {\r\n    var callback = function (key, data, lang) {\r\n        var result = translate(key, data, lang, true);\r\n        return result !== undefined ? result : key;\r\n    };\r\n    return extend(callback, {\r\n        html: function (id, data, lang) {\r\n            return { __html: translate(id, data, lang) };\r\n        },\r\n        lazy: function (id, data, lang) {\r\n            return new TString(translate.bind(0, id, data, lang, true));\r\n        }\r\n    });\r\n}\r\n\r\nexport function useLanguage() {\r\n    return useObservableProperty(app, 'language');\r\n}\r\n\r\nexport function makeTranslation(resources, defaultLang) {\r\n    const re = new RegExp('^(' + Object.keys(resources[defaultLang]).join('|') + ')\\\\.');\r\n    const cache = {};\r\n\r\n    function getTranslation(prefix, name, data, noEncode, lang) {\r\n        var str = ((resources[lang] || empty)[prefix] || empty)[name];\r\n        if (typeof str === 'string') {\r\n            if (str && (!noEncode || data !== undefined)) {\r\n                return waterpipe(str, data, { noEncode });\r\n            }\r\n            return str;\r\n        }\r\n        if (lang !== defaultLang) {\r\n            return getTranslation(prefix, name, data, noEncode, defaultLang);\r\n        }\r\n    }\r\n\r\n    function translate(key, data, lang, noEncode) {\r\n        var prefix = re.test(key) ? RegExp.$1 : '';\r\n        var name = prefix ? key.slice(RegExp.lastMatch.length) : key;\r\n        return getTranslation(prefix, name, data, noEncode, lang || app.language);\r\n    }\r\n\r\n    function getTranslationCallback() {\r\n        var currentLang = String(this);\r\n        var prefix = makeArray(arguments);\r\n        var key = currentLang + ' ' + prefix.join(' ');\r\n        return cache[key] || (cache[key] = prefix[0] ? createCallback(function (key, data, lang, noEncode) {\r\n            lang = lang || currentLang || app.language;\r\n            return single(prefix, function (v) {\r\n                return getTranslation(v, key, data, noEncode, lang);\r\n            })\r\n        }) : createCallback(function (key, data, lang, noEncode) {\r\n            return translate(key, data, lang || currentLang, noEncode);\r\n        }));\r\n    }\r\n\r\n    function useTranslation() {\r\n        var language = useLanguage();\r\n        var t = getTranslationCallback.apply(language, arguments);\r\n        return { language, t };\r\n    }\r\n\r\n    return {\r\n        translate: createCallback(translate),\r\n        getTranslation: getTranslationCallback.bind(''),\r\n        useTranslation: useTranslation,\r\n        keys: function (prefix) {\r\n            return keys(resources[defaultLang][prefix] || empty);\r\n        }\r\n    };\r\n}\r\n","import { definePrototype, extend, isPlainObject, kv } from \"zeta-dom/util\";\r\nimport Mixin from \"./Mixin.js\";\r\n\r\nexport default function StaticAttributeMixin(name, value) {\r\n    Mixin.call(this);\r\n    this.attributes = isPlainObject(name) || kv(name, value || '');\r\n}\r\n\r\ndefinePrototype(StaticAttributeMixin, Mixin, {\r\n    getCustomAttributes: function () {\r\n        return extend({}, this.attributes);\r\n    }\r\n});\r\n","import { classNames } from \"zeta-dom-react\";\r\nimport { combineFn, define, definePrototype, each, extend, makeArray, noop, watchable } from \"zeta-dom/util\";\r\nimport StaticAttributeMixin from \"./StaticAttributeMixin.js\";\r\n\r\nexport default function Mixin() {\r\n}\r\n\r\ndefinePrototype(Mixin, {\r\n    reset: function () {\r\n        return this;\r\n    },\r\n    next: function () {\r\n    },\r\n    getRef: function () {\r\n        return noop;\r\n    },\r\n    getClassNames: function () {\r\n        return [];\r\n    },\r\n    getCustomAttributes: function () {\r\n        return {};\r\n    },\r\n    dispose: function () {\r\n    }\r\n});\r\nwatchable(Mixin.prototype);\r\n\r\ndefine(Mixin, {\r\n    get scrollableTarget() {\r\n        return new StaticAttributeMixin('scrollable-target');\r\n    },\r\n    get tabRoot() {\r\n        return new StaticAttributeMixin('tab-root');\r\n    },\r\n    use: function () {\r\n        const args = makeArray(arguments);\r\n        const ref = args[0];\r\n        const props = {};\r\n        const mixins = args.filter(function (v) {\r\n            return v instanceof Mixin;\r\n        });\r\n        const refs = mixins.map(function (v) {\r\n            return v.getRef();\r\n        });\r\n        if (ref && !(ref instanceof Mixin)) {\r\n            if (typeof ref !== 'function') {\r\n                refs.push(function (v) {\r\n                    ref.current = v;\r\n                });\r\n            } else {\r\n                refs.push(ref);\r\n            }\r\n            args.shift();\r\n        } else if (!ref) {\r\n            args.shift();\r\n        }\r\n        each(mixins, function (i, v) {\r\n            extend(props, v.getCustomAttributes());\r\n        });\r\n        extend(props, {\r\n            ref: combineFn(refs),\r\n            className: classNames.apply(null, args)\r\n        });\r\n        each(mixins, function (i, v) {\r\n            v.next();\r\n        });\r\n        return props;\r\n    }\r\n});\r\n","import lib from \"zeta-dom\";\r\nconst { watchElements, watchOwnAttributes } = lib.dom;\r\nexport { watchElements, watchOwnAttributes };","import { arrRemove, combineFn, createPrivateStore, definePrototype, each, extend, keys, setImmediateOnce, throwNotFunction, watch } from \"zeta-dom/util\";\r\nimport Mixin from \"./Mixin.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst unmounted = new Set();\r\n\r\nfunction disposeUnmountedStates() {\r\n    each(unmounted, function (i, v) {\r\n        combineFn(_(v).splice(0))();\r\n    });\r\n    unmounted.clear();\r\n}\r\n\r\nfunction MixinState(parent, element) {\r\n    _(this, [parent.delete.bind(parent, element)]);\r\n    parent.set(element, this);\r\n}\r\n\r\ndefinePrototype(MixinState, {\r\n    onDispose: function (callback) {\r\n        _(this).push(throwNotFunction(callback));\r\n    }\r\n});\r\n\r\nfunction MixinRefImpl(mixin) {\r\n    this.mixin = mixin;\r\n}\r\n\r\ndefinePrototype(MixinRefImpl, {\r\n    getMixin: function () {\r\n        return this.mixin;\r\n    }\r\n});\r\n\r\nexport default function StatefulMixin() {\r\n    Mixin.call(this);\r\n    _(this, {\r\n        pending: {},\r\n        elements: [],\r\n        states: new Map(),\r\n        flush: watch(this, false),\r\n        dispose: []\r\n    });\r\n}\r\n\r\ndefinePrototype(StatefulMixin, Mixin, {\r\n    get ref() {\r\n        const state = _(this);\r\n        return state.ref || (state.ref = new MixinRefImpl(this));\r\n    },\r\n    get state() {\r\n        return _(this).pending;\r\n    },\r\n    reset: function () {\r\n        _(this).pending = {};\r\n        return this;\r\n    },\r\n    next: function () {\r\n        _(this).pending = {};\r\n        return this;\r\n    },\r\n    getRef: function () {\r\n        var self = this;\r\n        var obj = _(self);\r\n        var newState = obj.pending;\r\n        var element, state;\r\n        return function (current) {\r\n            if (current) {\r\n                element = current;\r\n                state = obj.states.get(element) || new MixinState(obj.states, element);\r\n                obj.elements.push(element);\r\n                if (!state.element) {\r\n                    self.initElement(element, extend(state, self.initState(), newState, { element }));\r\n                } else if (keys(newState)[0]) {\r\n                    self.mergeState(element, state, newState);\r\n                }\r\n                self.onLayoutEffect(element, state);\r\n                unmounted.delete(state);\r\n            } else if (state) {\r\n                unmounted.add(state);\r\n                self.onBeforeUpdate(element, state);\r\n                arrRemove(obj.elements, element);\r\n            }\r\n            setImmediateOnce(disposeUnmountedStates);\r\n        };\r\n    },\r\n    elements: function () {\r\n        return _(this).elements.slice();\r\n    },\r\n    onDispose: function (callback) {\r\n        _(this).dispose.push(callback);\r\n    },\r\n    initState: function () {\r\n        return {};\r\n    },\r\n    initElement: function (element, state) {\r\n    },\r\n    mergeState: function (element, state, newState) {\r\n        extend(state, newState);\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n    },\r\n    onBeforeUpdate: function (element, state) {\r\n    },\r\n    clone: function () {\r\n        return this;\r\n    },\r\n    dispose: function () {\r\n        var state = _(this);\r\n        each(state.states, function (i, v) {\r\n            unmounted.add(v);\r\n        });\r\n        setImmediateOnce(disposeUnmountedStates);\r\n        combineFn(state.dispose.splice(0))();\r\n        state.flush();\r\n        state.pending = {};\r\n    }\r\n});\r\n","import { definePrototype, each, equal, extend, fill } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport { watchOwnAttributes } from \"zeta-dom/observe\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nfunction checkState(self, element, state, fireEvent) {\r\n    var classNames = state.classNames;\r\n    var prev = extend({}, classNames);\r\n    each(classNames, function (i) {\r\n        classNames[i] = element.classList.contains(i);\r\n    });\r\n    if (fireEvent && !equal(state.prev || prev, classNames)) {\r\n        state.prev = prev;\r\n        self.onClassNameUpdated(element, prev, extend({}, classNames));\r\n    }\r\n}\r\n\r\nexport default function ClassNameMixin(classNames) {\r\n    StatefulMixin.call(this);\r\n    this.classNames = classNames || [];\r\n}\r\n\r\ndefinePrototype(ClassNameMixin, StatefulMixin, {\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        state.classNames = fill(self.classNames, false);\r\n        checkState(self, element, state);\r\n        state.onDispose(watchOwnAttributes(element, 'class', function () {\r\n            checkState(self, element, state, true);\r\n        }).dispose);\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n        setClass(element, state.classNames);\r\n    },\r\n    onBeforeUpdate: function (element, state) {\r\n        checkState(this, element, state);\r\n    },\r\n    onClassNameUpdated: function (element, prevState, state) {\r\n    }\r\n});\r\n","import { definePrototype, extend, makeArray } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst AnimateMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function AnimateMixin() {\r\n    ClassNameMixin.call(this, ['tweening-in', 'tweening-out']);\r\n}\r\n\r\ndefinePrototype(AnimateMixin, ClassNameMixin, {\r\n    next: function () {\r\n        var self = this;\r\n        self.effects = undefined;\r\n        self.trigger = undefined;\r\n        return AnimateMixinSuper.next.call(self);\r\n    },\r\n    with: function (props) {\r\n        var self = this;\r\n        self.effects = props.effects;\r\n        self.trigger = props.trigger;\r\n        return self;\r\n    },\r\n    withEffects: function () {\r\n        this.effects = makeArray(arguments);\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(AnimateMixinSuper.getCustomAttributes.call(self), {\r\n            'animate-in': (self.effects || []).join(' '),\r\n            'animate-on': self.trigger || 'show'\r\n        });\r\n    }\r\n});\r\n","import { definePrototype, extend } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst AnimateSequenceItemMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function AnimateSequenceItemMixin(className) {\r\n    ClassNameMixin.call(this, ['tweening-in', 'tweening-out']);\r\n    this.className = className;\r\n}\r\n\r\ndefinePrototype(AnimateSequenceItemMixin, ClassNameMixin, {\r\n    getCustomAttributes: function () {\r\n        return extend(AnimateSequenceItemMixinSuper.getCustomAttributes.call(this), {\r\n            'is-animate-sequence': ''\r\n        });\r\n    },\r\n    getClassNames: function () {\r\n        return [this.className].concat(AnimateSequenceItemMixinSuper.getClassNames.call(this));\r\n    }\r\n});\r\n","import $ from \"jquery\";\r\nimport { watchElements } from \"zeta-dom/observe\";\r\nimport { definePrototype, extend } from \"zeta-dom/util\";\r\nimport AnimateMixin from \"./AnimateMixin.js\";\r\nimport AnimateSequenceItemMixin from \"./AnimateSequenceItemMixin.js\";\r\n\r\nconst AnimateSequenceMixinSuper = AnimateMixin.prototype;\r\nvar animateSequenceMixinCounter = 0;\r\n\r\nexport default function AnimateSequenceMixin() {\r\n    var self = this;\r\n    AnimateMixin.call(self);\r\n    self.className = 'brew-anim-' + (++animateSequenceMixinCounter);\r\n    self.item = new AnimateSequenceItemMixin(self.className);\r\n}\r\n\r\ndefinePrototype(AnimateSequenceMixin, AnimateMixin, {\r\n    withOptions: function (options) {\r\n        this.selector = options;\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(AnimateSequenceMixinSuper.getCustomAttributes.call(self), {\r\n            'animate-in': null,\r\n            'animate-sequence-type': (self.effects || []).join(' '),\r\n            'animate-sequence': self.selector || '.' + self.className\r\n        });\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        AnimateSequenceMixinSuper.initElement.call(self, element, state);\r\n        if (self.selector) {\r\n            state.onDispose(watchElements(element, self.selector, function (addedNodes) {\r\n                $(addedNodes).attr('is-animate-sequence', '');\r\n            }).dispose);\r\n        }\r\n    }\r\n});\r\n","import { definePrototype, each, extend, isPlainObject, kv } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nexport default function ClassNameToggleMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(ClassNameToggleMixin, StatefulMixin, {\r\n    withOptions: function (classes) {\r\n        this.classes = extend({}, classes);\r\n    },\r\n    getClassNames: function () {\r\n        return this.classes;\r\n    },\r\n    set: function (name, value) {\r\n        value = isPlainObject(name) || kv(name, value);\r\n        each(this.elements(), function (i, v) {\r\n            setClass(v, value);\r\n        });\r\n        extend(this.classes, value);\r\n    }\r\n});\r\n","import dom from \"zeta-dom/dom\";\r\nimport { definePrototype } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst FlyoutToggleMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function FlyoutToggleMixin(mixin) {\r\n    ClassNameMixin.call(this, ['target-opened']);\r\n    this.flyoutMixin = mixin;\r\n}\r\n\r\nfunction triggerFlyoutAction(self, state, trigger, action, args) {\r\n    if ((state.trigger || 'click') === trigger) {\r\n        action.apply(self, args);\r\n    }\r\n}\r\n\r\ndefinePrototype(FlyoutToggleMixin, ClassNameMixin, {\r\n    on: function (trigger) {\r\n        this.state.trigger = trigger;\r\n        return this;\r\n    },\r\n    open: function (value, source) {\r\n        return this.flyoutMixin.open(value, source);\r\n    },\r\n    close: function (value) {\r\n        return this.flyoutMixin.close(value);\r\n    },\r\n    toggle: function (flag, source) {\r\n        return this.flyoutMixin.toggleSelf(flag, source);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        FlyoutToggleMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(dom.on(element, {\r\n            focusin: function () {\r\n                triggerFlyoutAction(self, state, 'focus', self.open, [null, dom.activeElement]);\r\n            },\r\n            focusout: function () {\r\n                triggerFlyoutAction(self, state, 'focus', self.close, []);\r\n            },\r\n            click: function () {\r\n                triggerFlyoutAction(self, state, 'click', self.toggle, [element]);\r\n            }\r\n        }));\r\n    }\r\n});\r\n","import { combineFn, definePrototype, extend, isFunction, makeArray, noop, pick, resolve, throws } from \"zeta-dom/util\";\r\nimport { closeFlyout, isFlyoutOpen, openFlyout, toggleFlyout } from \"brew-js/domAction\";\r\nimport { app } from \"../app.js\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\nimport FlyoutToggleMixin from \"./FlyoutToggleMixin.js\";\r\n\r\nconst FlyoutMixinSuper = ClassNameMixin.prototype;\r\nconst valueMap = new WeakMap();\r\n\r\nfunction toggleSelf(self, flag, value, source) {\r\n    if (!flag && !isFlyoutOpen(self.element)) {\r\n        return resolve();\r\n    }\r\n    var options = self.getOptions();\r\n    return flag ? openFlyout(self.element, value, source, options) : toggleFlyout(self.element, source, options);\r\n}\r\n\r\nexport default function FlyoutMixin() {\r\n    var self = this;\r\n    ClassNameMixin.call(self, ['open', 'closing', 'visible', 'tweening-in', 'tweening-out']);\r\n    self.modal = false;\r\n    self.tabThrough = false;\r\n    self.isFlyoutOpened = false;\r\n    self.animating = false;\r\n    self.visible = false;\r\n    self.initialFocus = undefined;\r\n    self.toggle = new FlyoutToggleMixin(self);\r\n    self.onDispose(function () {\r\n        self.isFlyoutOpened = false;\r\n        self.visible = false;\r\n        self.toggle.dispose();\r\n    });\r\n}\r\n\r\ndefinePrototype(FlyoutMixin, ClassNameMixin, {\r\n    get element() {\r\n        return this.elements()[0] || null;\r\n    },\r\n    getOptions: function () {\r\n        var self = this;\r\n        var options = pick(self, ['closeOnBlur', 'containment']);\r\n        if (self.initialFocus !== undefined) {\r\n            options.focus = self.initialFocus;\r\n        }\r\n        return options;\r\n    },\r\n    next: function () {\r\n        this.effects = undefined;\r\n        return FlyoutMixinSuper.next.call(this);\r\n    },\r\n    withEffects: function () {\r\n        this.effects = makeArray(arguments);\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var self = this;\r\n        return extend(FlyoutMixinSuper.getCustomAttributes.call(self), {\r\n            'is-flyout': '',\r\n            'swipe-dismiss': self.swipeToDismiss\r\n        }, self.modal && {\r\n            'is-modal': ''\r\n        }, self.tabThrough && {\r\n            'tab-through': ''\r\n        }, self.effects && {\r\n            'animate-on': 'open',\r\n            'animate-in': self.effects.join(' '),\r\n            'animate-out': ''\r\n        });\r\n    },\r\n    open: function (value, source) {\r\n        return toggleSelf(this, true, value, source);\r\n    },\r\n    close: function (value) {\r\n        return closeFlyout(this.element, value);\r\n    },\r\n    toggleSelf: function (flag, source) {\r\n        if (typeof flag !== 'boolean') {\r\n            source = flag;\r\n            flag = !isFlyoutOpen(this.element);\r\n        }\r\n        return toggleSelf(this, flag, undefined, source);\r\n    },\r\n    onOpen: function (callback) {\r\n        return this.onToggleState(function (opened) {\r\n            if (opened) {\r\n                callback(valueMap.get(this.element));\r\n            }\r\n        });\r\n    },\r\n    onToggleState: function (callback) {\r\n        return this.watch('isFlyoutOpened', callback);\r\n    },\r\n    onVisibilityChanged: function (callback) {\r\n        return this.watch('visible', callback);\r\n    },\r\n    whenVisible: function (effect) {\r\n        var dispose = [];\r\n        dispose[0] = this.watch('visible', function (visible) {\r\n            dispose[1] = (visible ? isFunction(effect()) : dispose[1] && void dispose[1]()) || noop;\r\n        }, true);\r\n        return combineFn(dispose);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        if (self.elements()[1]) {\r\n            throws('FlyoutMixin only supports single element');\r\n        }\r\n        FlyoutMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(app.on(element, {\r\n            flyoutshow: function (e) {\r\n                valueMap.set(element, e.data);\r\n                self.isFlyoutOpened = true;\r\n                self.visible = true;\r\n            },\r\n            flyoutclose: function () {\r\n                self.isFlyoutOpened = false;\r\n            },\r\n            flyouthide: function () {\r\n                self.visible = false;\r\n            },\r\n            animationstart: function () {\r\n                self.animating = true;\r\n            },\r\n            animationcomplete: function () {\r\n                self.animating = false;\r\n            },\r\n        }, true));\r\n    }\r\n});\r\n","import { definePrototype } from \"zeta-dom/util\";\r\nimport { setClass } from \"zeta-dom/domUtil\";\r\nimport dom from \"zeta-dom/dom\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nconst FocusStateMixinSuper = StatefulMixin.prototype;\r\n\r\nexport default function FocusStateMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(FocusStateMixin, StatefulMixin, {\r\n    for: function (ref) {\r\n        this.state.ref = ref;\r\n        return this;\r\n    },\r\n    initElement: function (element, state) {\r\n        FocusStateMixinSuper.initElement.call(this, element, state);\r\n        var checkTarget = function (callback, arg) {\r\n            var ref = state.ref;\r\n            var target = ref && (typeof ref === 'string' ? element.querySelector(ref) : ref.current);\r\n            if (target && !dom.focused(target)) {\r\n                callback(arg || target);\r\n            }\r\n        };\r\n        state.onDispose(dom.on(element, {\r\n            focusin: function (e) {\r\n                state.focused = e.source;\r\n                setClass(element, 'focused', e.source);\r\n                checkTarget(dom.focus);\r\n            },\r\n            focusout: function () {\r\n                state.focused = false;\r\n                setClass(element, 'focused', false);\r\n            },\r\n            focuschange: function () {\r\n                checkTarget(dom.blur, element);\r\n            }\r\n        }));\r\n    },\r\n    onLayoutEffect: function (element, state) {\r\n        setClass(element, 'focused', state.focused);\r\n    }\r\n});\r\n","import lib from \"brew-js\";\r\nconst { getDirectiveComponent } = lib;\r\nexport { getDirectiveComponent };","import { any, definePrototype } from \"zeta-dom/util\";\r\nimport { getClass } from \"zeta-dom/domUtil\";\r\nimport { subscribeAsync } from \"zeta-dom/domLock\";\r\nimport { getDirectiveComponent } from \"brew-js/directive\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst LoadingStateMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function LoadingStateMixin() {\r\n    ClassNameMixin.call(this, ['loading', 'loading-complete']);\r\n    this.loading = false;\r\n}\r\n\r\ndefinePrototype(LoadingStateMixin, ClassNameMixin, {\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        LoadingStateMixinSuper.initElement.call(self, element, state);\r\n        getDirectiveComponent(element).enableLoadingClass = true;\r\n        state.onDispose(subscribeAsync(element, function (loading) {\r\n            self.loading = loading || !!any(self.elements(), function (v) {\r\n                return v !== element && getClass(v, 'loading') === true;\r\n            });\r\n        }));\r\n    }\r\n});\r\n","import { defineHiddenProperty, definePrototype, each, extend, throws } from \"zeta-dom/util\";\r\nimport { getDirectiveComponent } from \"brew-js/directive\";\r\nimport { app } from \"../app.js\";\r\nimport Mixin from \"./Mixin.js\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nconst ScrollableMixinSuper = ClassNameMixin.prototype;\r\n\r\nexport default function ScrollableMixin() {\r\n    var self = this;\r\n    ClassNameMixin.call(self, ['scrollable-x', 'scrollable-x-l', 'scrollable-x-r', 'scrollable-y', 'scrollable-y-d', 'scrollable-y-u']);\r\n    self.target = Mixin.scrollableTarget;\r\n    self.pageIndex = 0;\r\n    self.scrolling = false;\r\n}\r\n\r\ndefinePrototype(ScrollableMixin, ClassNameMixin, {\r\n    get element() {\r\n        return this.elements()[0] || null;\r\n    },\r\n    get contentElement() {\r\n        var element = this.element;\r\n        return element && getDirectiveComponent(element).scrollable.scrollTarget;\r\n    },\r\n    withOptions: function (options) {\r\n        this.options = options;\r\n        return this;\r\n    },\r\n    getCustomAttributes: function () {\r\n        var options = this.options || {};\r\n        return extend(ScrollableMixinSuper.getCustomAttributes.call(this), {\r\n            'scrollable': [options.direction || 'both', options.handle || 'auto'].join(' '),\r\n        }, options.pagedItemSelector && {\r\n            'scroller-snap-page': options.paged,\r\n            'scroller-page': options.pagedItemSelector,\r\n        }, options.persistScroll && {\r\n            'persist-scroll': ''\r\n        });\r\n    },\r\n    onPageIndexChanged: function (callback) {\r\n        return this.watch('pageIndex', callback);\r\n    },\r\n    initElement: function (element, state) {\r\n        var self = this;\r\n        if (self.elements()[1]) {\r\n            throws('ScrollableMixin only supports single element');\r\n        }\r\n        ScrollableMixinSuper.initElement.call(self, element, state);\r\n        state.onDispose(app.on(element, {\r\n            scrollIndexChange: function (e) {\r\n                self.pageIndex = e.newIndex;\r\n            },\r\n            scrollStart: function () {\r\n                self.scrolling = true;\r\n            },\r\n            scrollStop: function () {\r\n                self.scrolling = false;\r\n            }\r\n        }, true));\r\n    }\r\n});\r\n\r\neach('destroy enable disable setOptions setStickyPosition refresh scrollPadding stop scrollLeft scrollTop scrollBy scrollTo scrollByPage scrollToPage scrollToElement', function (i, v) {\r\n    defineHiddenProperty(ScrollableMixin.prototype, v, function () {\r\n        var obj = getDirectiveComponent(this.element);\r\n        return obj.scrollable[v].apply(null, arguments);\r\n    });\r\n});\r\n","import { definePrototype, equal, extend, setImmediateOnce } from \"zeta-dom/util\";\r\nimport { scrollIntoView } from \"zeta-dom/domUtil\";\r\nimport StatefulMixin from \"./StatefulMixin.js\";\r\n\r\nexport default function ScrollIntoViewMixin() {\r\n    StatefulMixin.call(this);\r\n}\r\n\r\ndefinePrototype(ScrollIntoViewMixin, StatefulMixin, {\r\n    when: function (deps) {\r\n        this.state.deps = deps;\r\n        return this;\r\n    },\r\n    initElement: function (element, state) {\r\n        state.callback = function () {\r\n            scrollIntoView(element);\r\n        };\r\n    },\r\n    mergeState: function (element, state, newState) {\r\n        if (newState.deps && !equal(newState.deps, state.deps)) {\r\n            setImmediateOnce(state.callback);\r\n        }\r\n        extend(state, newState);\r\n    }\r\n});\r\n","import { definePrototype, makeArray } from \"zeta-dom/util\";\r\nimport ClassNameMixin from \"./ClassNameMixin.js\";\r\n\r\nexport default function UnmanagedClassNameMixin() {\r\n    ClassNameMixin.call(this);\r\n}\r\n\r\ndefinePrototype(UnmanagedClassNameMixin, ClassNameMixin, {\r\n    memorize: function () {\r\n        this.classNames = makeArray(arguments);\r\n        return this;\r\n    }\r\n});\r\n","import { useSingleton } from \"zeta-dom-react\";\r\nimport { extend } from \"zeta-dom/util\";\r\nimport Mixin from \"./mixins/Mixin.js\";\r\nimport AnimateMixin from \"./mixins/AnimateMixin.js\";\r\nimport AnimateSequenceItemMixin from \"./mixins/AnimateSequenceItemMixin.js\";\r\nimport AnimateSequenceMixin from \"./mixins/AnimateSequenceMixin.js\";\r\nimport ClassNameMixin from \"./mixins/ClassNameMixin.js\";\r\nimport ClassNameToggleMixin from \"./mixins/ClassNameToggleMixin.js\";\r\nimport FlyoutMixin from \"./mixins/FlyoutMixin.js\";\r\nimport FlyoutToggleMixin from \"./mixins/FlyoutToggleMixin.js\";\r\nimport FocusStateMixin from \"./mixins/FocusStateMixin.js\";\r\nimport LoadingStateMixin from \"./mixins/LoadingStateMixin.js\";\r\nimport StatefulMixin from \"./mixins/StatefulMixin.js\";\r\nimport ScrollableMixin from \"./mixins/ScrollableMixin.js\";\r\nimport ScrollIntoViewMixin from \"./mixins/ScrollIntoViewMixin.js\";\r\nimport UnmanagedClassNameMixin from \"./mixins/UnmanagedClassNameMixin.js\";\r\n\r\nfunction extendSelf(options) {\r\n    extend(this, options);\r\n}\r\n\r\nfunction createUseFunction(ctor) {\r\n    return function () {\r\n        var mixin = useMixin(ctor);\r\n        (mixin.withOptions || extendSelf).apply(mixin, arguments);\r\n        return mixin;\r\n    };\r\n}\r\n\r\nexport const useAnimateMixin = /*#__PURE__*/ createUseFunction(AnimateMixin);\r\nexport const useAnimateSequenceMixin = /*#__PURE__*/ createUseFunction(AnimateSequenceMixin);\r\nexport const useClassNameToggleMixin = /*#__PURE__*/ createUseFunction(ClassNameToggleMixin);\r\nexport const useFlyoutMixin = /*#__PURE__*/ createUseFunction(FlyoutMixin);\r\nexport const useFocusStateMixin = /*#__PURE__*/ createUseFunction(FocusStateMixin);\r\nexport const useLoadingStateMixin = /*#__PURE__*/ createUseFunction(LoadingStateMixin);\r\nexport const useScrollableMixin = /*#__PURE__*/ createUseFunction(ScrollableMixin);\r\nexport const useScrollIntoViewMixin = /*#__PURE__*/ createUseFunction(ScrollIntoViewMixin);\r\nexport const useUnmanagedClassNameMixin = /*#__PURE__*/ createUseFunction(UnmanagedClassNameMixin);\r\n\r\nexport function useMixin(ctor) {\r\n    return useSingleton(function () {\r\n        return new ctor();\r\n    }).reset();\r\n}\r\n\r\nexport function useMixinRef(mixin) {\r\n    return mixin && mixin.getMixin().reset();\r\n}\r\n\r\nexport {\r\n    Mixin,\r\n    AnimateMixin,\r\n    AnimateSequenceItemMixin,\r\n    AnimateSequenceMixin,\r\n    ClassNameMixin,\r\n    ClassNameToggleMixin,\r\n    FlyoutMixin,\r\n    FlyoutToggleMixin,\r\n    FocusStateMixin,\r\n    LoadingStateMixin,\r\n    StatefulMixin,\r\n    ScrollableMixin,\r\n    ScrollIntoViewMixin,\r\n    UnmanagedClassNameMixin,\r\n}\r\n","import { } from \"./app.js\";\r\nimport brew from \"brew-js/app\";\r\nexport default brew;\r\n\r\nexport * from \"./dialog.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./i18n.js\";\r\nexport * from \"./mixin.js\";\r\nexport * from \"./view.js\";\r\n","import { defineGetterProperty } from \"zeta-dom/util\";\r\n\r\ndefineGetterProperty(window, 'brew-js-react', function () {\r\n    console.warn('window[\"brew-js-react\"] is deprecated, access brew.react instead.');\r\n    return brew.react;\r\n});\r\n\r\nexport * from \"./index.js\";\r\n"],"names":["lib","_lib$util","util","any","arrRemove","catchAsync","combineFn","createPrivateStore","define","defineGetterProperty","defineHiddenProperty","defineObservableProperty","defineOwnProperty","definePrototype","delay","each","either","equal","exclude","executeOnce","extend","fill","freeze","grep","isArray","isFunction","isPlainObject","isThenable","isUndefinedOrNull","keys","kv","makeArray","map","mapObject","noop","pick","randomId","resolve","setImmediate","setImmediateOnce","single","throwNotFunction","throws","watch","watchable","addExtension","install","defaults","app","appInitCallabcks","onAppInit","callback","push","extension","app_","react","Component","Fragment","StrictMode","createContext","createElement","useContext","useEffect","useMemo","useRef","useState","ViewStateProvider","classNames","createAsyncScope","useAsync","useEagerState","useMemoizedFunction","useObservableProperty","useSingleton","useValueTrigger","containsOrEquals","getClass","removeNode","scrollIntoView","setClass","dom","reportError","_lib$dom","lock","preventLeave","runAsync","subscribeAsync","closeFlyout","isFlyoutOpen","openFlyout","toggleFlyout","ReactDOM","ReactDOMClient","createDialog","props","root","document","reactRoot","createRoot","scope","closeDialog","bind","promise","on","flyoutshow","onOpen","flyouthide","onClose","onRender","unmount","setAttribute","close","open","className","body","appendChild","modal","commitDialog","onCommit","value","activeElement","then","dialogProps","errorHandler","dismissDialog","content","wrapper","render","Provider","retainFocus","preventNavigation","Dialog","_props","dialog","opened","isOpen","createPortal","children","EventContainer","ZetaEventContainer","getQueryParam","setQueryParam","toQueryString","parsePath","removeQueryAndHash","animateIn","animateOut","ViewStateContainer","_","routeMap","Map","usedParams","sortedViews","emitter","rootContext","ViewContext","container","rootState","StateContext","errorView","event","e","setPage","page","setActive","updateViewRecursive","next","i","v","waitFor","Promise","forceUpdate","view","parent","self","previousPage","emit","navigationType","getChildren","currentContext","handler","add","ErrorBoundary","apply","arguments","state","contextType","componentDidMount","componentWillUnmount","context","error","componentDidCatch","setState","onLoad","childProps","onError","viewProps","reset","viewContext","viewData","data","ViewContainer","unwatch","route","getViewComponent","currentViewComponent","unmountView","active","updateView","prevView","currentView","V","viewChanged","targetPath","resolvePath","path","navigate","get","initElement","element","pathname","undefined","key","id","rootProps","ref","rendered","views","isViewMatched","defaultView","normalizePart","part","getCurrentParams","params","maxParams","matchers","matched","routes","parseRoute","length","pos","minLength","match","last","slice","remainingSegments","concat","minParams","sortViews","a","b","matchCount","matchViewParams","createViewComponent","factory","prototype","fn","component","useViewContext","isViewRendered","matchView","parse","shift","sort","registerView","routeParams","RegExp","test","set","registerErrorView","renderView","has","Error","name","suffix","getPath","linkTo","toHref","navigateTo","replace","redirectTo","useViewContainerState","getCurrentStates","historyStorage","current","ViewState","dispose","store","snapshot","updatePersistedValue","onPopState","call","newValue","cur","updateViewState","useViewContextWithEffect","deps","useAppReady","useAppReadyState","ready","readyState","useRouteParam","defaultValue","notifyChange","setValue","useRouteState","snapshotOnUpdate","oldValue","beforeInit","useQueryParam","getParams","setParams","values","url","search","reduce","hash","cache","provider","getState","uniqueId","waterpipe","empty","Object","create","toPrimitive","Symbol","TString","toString","createCallback","translate","lang","result","html","__html","lazy","useLanguage","makeTranslation","resources","defaultLang","re","join","getTranslation","prefix","noEncode","str","$1","lastMatch","language","getTranslationCallback","currentLang","String","useTranslation","t","Mixin","StaticAttributeMixin","attributes","getCustomAttributes","getRef","getClassNames","scrollableTarget","tabRoot","use","args","mixins","filter","refs","watchElements","watchOwnAttributes","unmounted","Set","disposeUnmountedStates","splice","clear","MixinState","onDispose","MixinRefImpl","mixin","getMixin","StatefulMixin","pending","elements","states","flush","obj","newState","initState","mergeState","onLayoutEffect","onBeforeUpdate","clone","checkState","fireEvent","prev","classList","contains","onClassNameUpdated","ClassNameMixin","prevState","AnimateMixinSuper","AnimateMixin","effects","trigger","_with","withEffects","AnimateSequenceItemMixinSuper","AnimateSequenceItemMixin","$","AnimateSequenceMixinSuper","animateSequenceMixinCounter","AnimateSequenceMixin","item","withOptions","options","selector","addedNodes","attr","ClassNameToggleMixin","classes","FlyoutToggleMixinSuper","FlyoutToggleMixin","flyoutMixin","triggerFlyoutAction","action","source","toggle","flag","toggleSelf","focusin","focusout","click","FlyoutMixinSuper","valueMap","WeakMap","getOptions","FlyoutMixin","tabThrough","isFlyoutOpened","animating","visible","initialFocus","focus","swipeToDismiss","onToggleState","onVisibilityChanged","whenVisible","effect","flyoutclose","animationstart","animationcomplete","FocusStateMixinSuper","FocusStateMixin","_for","checkTarget","arg","target","querySelector","focused","focuschange","blur","getDirectiveComponent","LoadingStateMixinSuper","LoadingStateMixin","loading","enableLoadingClass","ScrollableMixinSuper","ScrollableMixin","pageIndex","scrolling","contentElement","scrollable","scrollTarget","direction","handle","pagedItemSelector","paged","persistScroll","onPageIndexChanged","scrollIndexChange","newIndex","scrollStart","scrollStop","ScrollIntoViewMixin","when","UnmanagedClassNameMixin","memorize","extendSelf","createUseFunction","ctor","useMixin","useAnimateMixin","useAnimateSequenceMixin","useClassNameToggleMixin","useFlyoutMixin","useFocusStateMixin","useLoadingStateMixin","useScrollableMixin","useScrollIntoViewMixin","useUnmanagedClassNameMixin","useMixinRef","brew","window","console","warn"],"sourceRoot":""}